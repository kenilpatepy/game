System.register("chunks:///_virtual/TankUI.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){"use strict";var i,t,r,n,a,o,s,c,l,p,u,b,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator,c=e.SpriteFrame,l=e.Sprite,p=e.Node,u=e.Label,b=e.Component},function(e){g=e.NumberFormatter}],execute:function(){var h,y,f,m,d,k,v,T,U,w,z,F,I;o._RF.push({},"0b689bkbRJMXaNURMw8Pvi1","TankUI",void 0);var L=s.ccclass,P=s.property;s.type,e("TankUI",(h=L("TankUI"),y=P({type:[c]}),f=P({type:l}),m=P({type:l}),d=P({type:p}),k=P({type:u}),h((U=i((T=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,r(n(i),"images",U,n(i)),r(n(i),"bg",w,n(i)),r(n(i),"icon",z,n(i)),r(n(i),"priceTag",F,n(i)),r(n(i),"priceLabel",I,n(i)),i}return t(i,e),i.prototype.updateStatus=function(e,i,t,r){this.isUnlocked=e,this.price=t,this.icon.spriteFrame=i,this.index=r,e?(this.priceTag.active=!1,this.bg.spriteFrame=this.images[0],this.icon.node.setPosition(0,0,0)):(this.priceTag.active=!0,this.bg.spriteFrame=this.images[1],this.icon.node.setPosition(0,12,0),this.priceLabel.string=g(this.price).toString())},a(i,[{key:"Index",get:function(){return this.index}},{key:"IsUnlocked",get:function(){return this.isUnlocked}}]),i}(b)).prototype,"images",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=i(T.prototype,"bg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(T.prototype,"icon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(T.prototype,"priceTag",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(T.prototype,"priceLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=T))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/Upgrades.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game.config.ts","./Enums.ts","./AudioManager.ts"],(function(e){"use strict";var t,n,i,r,s,o,a,u,p,l,d,g,c,P,h,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.createClass,i=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Node,p=e.Label,l=e.Sprite,d=e.Color,g=e.game,c=e.Component},function(e){P=e.GameConfig},function(e){h=e.GameEvents},function(e){C=e.default}],execute:function(){var S,w,b,f,F,v,y,M,B,L,I,m,x,z,D,U,k,E,H,R;o._RF.push({},"0ffbfviVztHy73thyMtGyL1","Upgrades",void 0);var _=a.ccclass,T=a.property,G=(a.type,S=_("UpgradePanel"),w=T({type:u}),b=T({type:p}),f=T({type:p}),F=T({type:l}),S((M=t((y=function(){function e(){r(this,"panel",M,this),r(this,"currentPowerLabel",B,this),r(this,"costLabel",L,this),r(this,"buttonsprite",I,this)}return n(e,[{key:"Panel",get:function(){return this.panel}},{key:"CurrentPowerLabel",get:function(){return this.currentPowerLabel}},{key:"CostLabel",get:function(){return this.costLabel}},{key:"Buttonsprite",get:function(){return this.buttonsprite}}]),e}()).prototype,"panel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(y.prototype,"currentPowerLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(y.prototype,"costLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(y.prototype,"buttonsprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v);e("Upgrades",(m=_("Upgrades"),x=T({type:u}),z=T({type:u}),D=T({type:[G]}),m((E=t((k=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(s(t),"updatesMenu",E,s(t)),r(s(t),"updatesMenuSelectionButtons",H,s(t)),r(s(t),"upgradePanel",R,s(t)),t}i(t,e);var n=t.prototype;return n.start=function(){for(var e=0;e<this.upgradePanel.length;e++)this.upgradePanel[e].Panel.active=!1,this.updatesMenu[e].active=!1,this.updatesMenuSelectionButtons[e].setPosition(this.updatesMenuSelectionButtons[e].position.x,-59,0);this.updatesMenu[0].active=!0,this.upgradePanel[0].Panel.active=!0,this.updatesMenuSelectionButtons[0].setPosition(this.updatesMenuSelectionButtons[0].position.x,-68,0),this.upgradePanel[0].CostLabel.string=P.upgrades.FireSpeedCost.toString(),this.upgradePanel[0].CurrentPowerLabel.string=P.upgrades.FireSpeed.toString()+" bps"},n.onFireSpeedUpgrade=function(){for(var e=0;e<this.upgradePanel.length;e++)this.upgradePanel[e].Panel.active=!1,this.updatesMenu[e].active=!1,this.updatesMenuSelectionButtons[e].setPosition(this.updatesMenuSelectionButtons[e].position.x,-59,0);C.Instance.playSound("click"),this.updatesMenu[0].active=!0,this.upgradePanel[0].Panel.active=!0,this.updatesMenuSelectionButtons[0].setPosition(this.updatesMenuSelectionButtons[0].position.x,-68,0),this.upgradePanel[0].CostLabel.string=P.upgrades.FireSpeedCost.toString(),this.upgradePanel[0].CurrentPowerLabel.string=P.upgrades.FireSpeed.toString()+" bps"},n.upgradeFireSpeed=function(){var e=this;P.upgrades.CoinsCollected>=P.upgrades.FireSpeedCost?(P.upgrades.FireSpeed+=1,this.removeCoins(parseInt(P.upgrades.FireSpeedCost.toString())),this.setFireSpeedCost()):(C.Instance.playSound("wrong-selection"),this.upgradePanel[0].Buttonsprite.color=d.RED,this.scheduleOnce((function(){e.upgradePanel[0].Buttonsprite.color=d.WHITE}),.1))},n.setFireSpeedCost=function(){C.Instance.playSound("coin"),P.upgrades.FireSpeedCost=1.5*(P.upgrades.FireSpeed-2),P.upgrades.FireSpeedCost=parseInt(P.upgrades.FireSpeedCost.toString()),this.upgradePanel[0].CostLabel.string=P.upgrades.FireSpeedCost.toString(),this.upgradePanel[0].CurrentPowerLabel.string=P.upgrades.FireSpeed.toString()+" bps",g.emit(h.SaveData)},n.onFirePowerUpgrade=function(){for(var e=0;e<this.upgradePanel.length;e++)this.upgradePanel[e].Panel.active=!1,this.updatesMenu[e].active=!1,this.updatesMenuSelectionButtons[e].setPosition(this.updatesMenuSelectionButtons[e].position.x,-59,0);C.Instance.playSound("click"),this.updatesMenu[1].active=!0,this.upgradePanel[1].Panel.active=!0,this.updatesMenuSelectionButtons[1].setPosition(this.updatesMenuSelectionButtons[1].position.x,-68,0),this.upgradePanel[1].CostLabel.string=P.upgrades.FirePowerCost.toString(),this.upgradePanel[1].CurrentPowerLabel.string=parseInt((100*P.upgrades.FirePower).toString())+" %"},n.upgradeFirePower=function(){var e=this;P.upgrades.CoinsCollected>=P.upgrades.FirePowerCost?(P.upgrades.FirePower=parseFloat((parseFloat(P.upgrades.FirePower.toString())+parseFloat("0.1")).toFixed(1)),this.removeCoins(parseInt(P.upgrades.FirePowerCost.toString())),this.setFirePowerCost()):(C.Instance.playSound("wrong-selection"),this.upgradePanel[1].Buttonsprite.color=d.RED,this.scheduleOnce((function(){e.upgradePanel[1].Buttonsprite.color=d.WHITE}),.1))},n.setFirePowerCost=function(){C.Instance.playSound("coin"),P.upgrades.FirePowerCost=10*(P.upgrades.FirePower-1)*1.5,P.upgrades.FirePowerCost=parseInt(P.upgrades.FirePowerCost.toString()),this.upgradePanel[1].CostLabel.string=P.upgrades.FirePowerCost.toString(),this.upgradePanel[1].CurrentPowerLabel.string=parseInt((100*P.upgrades.FirePower).toString())+" %",g.emit(h.SaveData)},n.onCoinPowerUpgrade=function(){for(var e=0;e<this.upgradePanel.length;e++)this.upgradePanel[e].Panel.active=!1,this.updatesMenu[e].active=!1,this.updatesMenuSelectionButtons[e].setPosition(this.updatesMenuSelectionButtons[e].position.x,-59,0);C.Instance.playSound("click"),this.updatesMenu[2].active=!0,this.upgradePanel[2].Panel.active=!0,this.updatesMenuSelectionButtons[2].setPosition(this.updatesMenuSelectionButtons[2].position.x,-68,0),this.upgradePanel[2].CostLabel.string=P.upgrades.CoinsPowerCost.toString(),this.upgradePanel[2].CurrentPowerLabel.string=parseInt((100*P.upgrades.CoinsPower).toString())+" %"},n.upgradeCoinsPower=function(){var e=this;P.upgrades.CoinsCollected>=P.upgrades.CoinsPowerCost?(P.upgrades.CoinsPower=parseFloat((parseFloat(P.upgrades.CoinsPower.toString())+parseFloat("0.1")).toFixed(1)),this.removeCoins(parseInt(P.upgrades.CoinsPowerCost.toString())),this.setCoinsPowerCost()):(C.Instance.playSound("wrong-selection"),this.upgradePanel[2].Buttonsprite.color=d.RED,this.scheduleOnce((function(){e.upgradePanel[2].Buttonsprite.color=d.WHITE}),.1))},n.setCoinsPowerCost=function(){C.Instance.playSound("coin"),P.upgrades.CoinsPowerCost=10*(P.upgrades.CoinsPower-1)*1.5,P.upgrades.CoinsPowerCost=parseInt(P.upgrades.CoinsPowerCost.toString()),this.upgradePanel[2].CostLabel.string=P.upgrades.CoinsPowerCost.toString(),this.upgradePanel[2].CurrentPowerLabel.string=parseInt((100*P.upgrades.CoinsPower).toString())+" %",g.emit(h.SaveData)},n.removeCoins=function(e){P.upgrades.CoinsCollected-=e,g.emit(h.UpdateCoins)},t}(c)).prototype,"updatesMenu",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(k.prototype,"updatesMenuSelectionButtons",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(k.prototype,"upgradePanel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=k))||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/BossDefeatedUI.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,a,r,l,s,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Animation,s=t.Node,p=t.Vec3,c=t.Component}],execute:function(){var u,m,b,f,y,g,h,d,I,P,S,x,z,v,w,A,D;a._RF.push({},"11effTM0V5HWKrehELPiJSa","BossDefeatedUI",void 0);var C=r.ccclass,B=r.property;r.type,t("BossDefeatedUI",(u=C("BossDefeatedUI"),m=B({type:l}),b=B({type:s}),f=B({type:s}),y=B({type:s}),g=B({type:p}),h=B({type:p}),d=B({type:Function}),u((S=e((P=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(o(e),"animation",S,o(e)),n(o(e),"icon",x,o(e)),n(o(e),"textImage",z,o(e)),n(o(e),"bg",v,o(e)),n(o(e),"iconStartPos",w,o(e)),n(o(e),"textImageStartPos",A,o(e)),n(o(e),"onAnimationComplete",D,o(e)),e}i(e,t);var a=e.prototype;return a.start=function(){this.bg.scale=p.ZERO,this.iconStartPos=this.icon.position,this.textImageStartPos=this.textImage.position},a.playAnimation=function(t){this.onAnimationComplete=t,this.animation.play("defeated")},a.OnAnimationComplete=function(){this.onAnimationComplete(),this.bg.scale=p.ZERO,this.icon.position=this.iconStartPos,this.textImage.position=this.textImageStartPos,this.node.active=!1},e}(c)).prototype,"animation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(P.prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(P.prototype,"textImage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(P.prototype,"bg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(P.prototype,"iconStartPos",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(P.prototype,"textImageStartPos",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(P.prototype,"onAnimationComplete",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=P))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var t,r,o;e({BackgroundUnlockCurrency:void 0,GameEvents:void 0,PhysicsTag:void 0}),a._RF.push({},"15a9bQcenVMbIXoqfX35v6E","Enums",void 0),function(e){e.StartGame="StartGame",e.PauseGame="PauseGame",e.ResumeGame="ResumeGame",e.RestartGame="RestartGame",e.ExtraLife="ExtraLife",e.Respawn="Respawn",e.UpdateTank="UpdateTank",e.GameOver="GameOver",e.ShowResult="ShowResult",e.QuitGame="QuitGame",e.OnMeteorBroken="OnMeteorBroken",e.LevelCompleted="LevelCompleted",e.UpdateCoins="UpdateCoins",e.ResetPowerup="ResetPowerup",e.LoadData="LoadData",e.SaveData="SaveData",e.ClearLevelData="ClearLevelData",e.UpdateLives="UpdateLives",e.UpdateGems="UpdateGems"}(t||(t=e("GameEvents",{}))),function(e){e[e.Wall=3]="Wall",e[e.Ground=4]="Ground",e[e.Meteor=5]="Meteor",e[e.Coin=6]="Coin",e[e.Boss=7]="Boss",e[e.PowerupIcon=8]="PowerupIcon",e[e.ChildTurret=9]="ChildTurret",e[e.PowerupMeteor=10]="PowerupMeteor"}(r||(r=e("PhysicsTag",{}))),function(e){e[e.Games=0]="Games",e[e.Boulders=1]="Boulders",e[e.FireRate=2]="FireRate",e[e.FirePower=3]="FirePower",e[e.CoinPower=4]="CoinPower"}(o||(o=e("BackgroundUnlockCurrency",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeEffect.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,s,n,r,i,c,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,c=e.ParticleSystem2D,f=e.Component}],execute:function(){var a,p,u,l,m;r._RF.push({},"27b3agkFzJLqK3j/PDqaHrB","SmokeEffect",void 0);var h=i.ccclass,y=i.property;e("SmokeEffect",(a=h("SmokeEffect"),p=y({type:c}),a((m=t((l=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,s(n(t),"smokeEffect",m,n(t)),t}o(t,e);var r=t.prototype;return r.setReference=function(e){this.meteorSpawner=e},r.play=function(e){var t=this;this.node.setPosition(e,-360,0),this.smokeEffect.resetSystem(),this.scheduleOnce((function(){t.smokeEffect.stopSystem(),t.meteorSpawner.SmokeEffects.put(t.node)}),1)},r.playChildFX=function(e){var t=this;this.node.setPosition(e),this.smokeEffect.resetSystem(),this.scheduleOnce((function(){t.smokeEffect.stopSystem(),t.meteorSpawner.SmokeEffects.put(t.node)}),1)},t}(f)).prototype,"smokeEffect",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=l))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"2cb551/4lRMJImhJ/3MXJ3o","Utils",void 0);t("Lerp",(function(t,e,n){return t*(1-n)+e*n}));var n=t("Clamp",(function(t,e,n){return Math.min(n,Math.max(e,t))})),r=t("Interpolate",(function(t,e,r,u,o,c){void 0===c&&(c=!1);var i=u+(t-e)*(o-u)/(r-e);return c?n(i,u,o):i}));t("InterpolateInput",(function(t,e,n){return r(t,e,n,0,1)})),t("GetRandom",(function(t,e){return Math.random()*(e-t)+t})),t("NumberFormatter",(function(t){return t>999999999||t<-999999999?(t/1e9).toFixed(1).replace(/\.0$/,"")+"B":t>999999||t<-999999?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>999||t<-999?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":parseInt(t.toString())}));e._RF.pop()}}}));

System.register("chunks:///_virtual/BossIntroUI.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,a,s,l,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Animation,l=t.Node,c=t.Vec3,p=t.Component}],execute:function(){var u,b,g,m,y,h,f,I,v,x,P,S,d,z,w;r._RF.push({},"2cd19vZnWxBQ5YVLsKvUe1J","BossIntroUI",void 0);var B=a.ccclass,U=a.property;a.type,t("BossIntroUI",(u=B("BossIntroUI"),b=U({type:s}),g=U({type:l}),m=U({type:l}),y=U({type:l}),h=U({type:c}),f=U({type:c}),u((x=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(o(e),"animation",x,o(e)),n(o(e),"icon",P,o(e)),n(o(e),"textImage",S,o(e)),n(o(e),"bg",d,o(e)),n(o(e),"iconStartPos",z,o(e)),n(o(e),"textImageStartPos",w,o(e)),e}i(e,t);var r=e.prototype;return r.start=function(){this.bg.scale=c.ZERO,this.iconStartPos=this.icon.position,this.textImageStartPos=this.textImage.position},r.playAnimation=function(t){this.animation.play("intro-"+t.toString())},r.OnAnimationComplete=function(){this.bg.scale=c.ZERO,this.icon.position=this.iconStartPos,this.textImage.position=this.textImageStartPos,this.node.active=!1},e}(p)).prototype,"animation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(v.prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(v.prototype,"textImage",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(v.prototype,"bg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(v.prototype,"iconStartPos",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(v.prototype,"textImageStartPos",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=v))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundNotificationPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./game.config.ts","./Enums.ts"],(function(e){"use strict";var i,t,r,n,a,s,o,l,c,p,u,g,h,b,y,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,o=e.Node,l=e.Vec3,c=e.Sprite,p=e.ProgressBar,u=e.Label,g=e.tween,h=e.Component},function(e){b=e.Interpolate},function(e){y=e.GameConfig},function(e){f=e.BackgroundUnlockCurrency}],execute:function(){var d,P,m,w,v,B,S,z,L,k,N,T,C,F,R,_,D;a._RF.push({},"31a2f+2giBNa5h9cHNVSzwl","BackgroundNotificationPanel",void 0);var O=s.ccclass,E=s.property;e("BackgroundNotificationPanel",(d=O("BackgroundNotificationPanel"),P=E({type:o,visible:!0}),m=E({type:l,visible:!1}),w=E({type:l,visible:!1}),v=E({type:c}),B=E({type:p}),S=E({type:u}),z=E({type:u}),d((N=i((k=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return i=e.call.apply(e,[this].concat(a))||this,r(n(i),"panel",N,n(i)),r(n(i),"startposition",T,n(i)),r(n(i),"endposition",C,n(i)),r(n(i),"percentageProgressSprite",F,n(i)),r(n(i),"progressBar",R,n(i)),r(n(i),"messageLabel",_,n(i)),r(n(i),"progressLabel",D,n(i)),i}t(i,e);var a=i.prototype;return a.ClosePanel=function(){var e=this;g(this.panel).to(.2,{position:this.endposition}).call((function(){e.node.active=!1})).start()},a.updateProperties=function(e,i,t){this.panel.setPosition(this.startposition),g(this.panel).to(.2,{position:l.ZERO}).start(),this.price=e,this.currencyType=i;var r=this.updateProgress();this.progressBar.progress=r,this.messageLabel.string=t,this.progressLabel.string=Math.floor(this.balance).toString()+" / "+this.price.toString(),this.percentageProgressSprite.node.active=!0,this.percentageProgressSprite.fillRange=r},a.updateProgress=function(){var e=0;return this.currencyType==f.Games?(this.balance=y.noOfSessionsPlayed,e=b(this.balance,0,this.price,0,1)):this.currencyType==f.Boulders?(this.balance=y.noOfBouldersDestroyed,e=b(this.balance,0,this.price,0,1)):this.currencyType==f.FireRate?(this.balance=y.upgrades.FireSpeed,e=b(this.balance,3,this.price,0,1)):this.currencyType==f.FirePower?(this.balance=100*y.upgrades.FirePower,e=b(this.balance,100,this.price,0,1)):this.currencyType==f.CoinPower&&(this.balance=100*y.upgrades.CoinsPower,e=b(this.balance,100,this.price,0,1)),e},i}(h)).prototype,"panel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(k.prototype,"startposition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(0,1e3,0)}}),C=i(k.prototype,"endposition",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(0,-1e3,0)}}),F=i(k.prototype,"percentageProgressSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(k.prototype,"progressBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(k.prototype,"messageLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(k.prototype,"progressLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=k))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/DailyReward.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game.config.ts","./GamezopSDK.ts","./Enums.ts","./ChestUnlockPanel.ts"],(function(t){"use strict";var e,i,n,a,o,r,l,s,c,u,h,m,p,w,b,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.defineProperty},function(t){r=t.cclegacy,l=t._decorator,s=t.Button,c=t.Node,u=t.Label,h=t.Animation,m=t.game,p=t.Component},function(t){w=t.GameConfig},function(t){b=t.GamezopSDK},function(t){f=t.GameEvents},function(t){d=t.ChestUnlockPanel}],execute:function(){var g,y,D,v,C,k,T,M,z,A,B,P,R,L,U,S,G;r._RF.push({},"359d1/CmW1JGomJnzczaY6r","DailyReward",void 0);var _=l.ccclass,x=l.property;t("DailyReward",(g=_("DailyReward"),y=x({type:d}),D=x({type:s}),v=x({type:c}),C=x({type:u}),k=x({type:Number}),T=x({type:c}),M=x({type:h}),g((B=e((A=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,n(a(e),"chestUnlockPanel",B,a(e)),n(a(e),"chestButton",P,a(e)),n(a(e),"chestMask",R,a(e)),n(a(e),"timerLabel",L,a(e)),n(a(e),"maxTimerinMinutes",U,a(e)),n(a(e),"glow",S,a(e)),n(a(e),"glowAnimation",G,a(e)),o(a(e),"countDownTime",0),o(a(e),"rewardCount",0),e}i(e,t);var r=e.prototype;return r.start=function(){this.countDownTime=w.chestTimeStamp,null==this.countDownTime?(this.canCountDown=!1,this.chestButton.interactable=!0,this.chestMask.active=!1,this.glow.active=!0,this.glowAnimation.play(),this.timerLabel.string="Watch Ad"):(this.canCountDown=!0,this.chestButton.interactable=!1,this.chestMask.active=!0,this.glow.active=!1)},r.update=function(){if(this.canCountDown){var t=(new Date).getTime(),e=this.countDownTime-t;if(e>0){var i=Math.floor(e%864e5/36e5),n=Math.floor(e%36e5/6e4),a=Math.floor(e%6e4/1e3);i<10&&(i="0"+i),n<10&&(n="0"+n),a<10&&(a="0"+a),this.timerLabel.string=(i+":"+n+":"+a).replace("-","")}else this.timerLabel.string="Watch Ad",this.canCountDown=this.chestMask.active=!1,this.chestButton.interactable=!0,this.glow.active=!0,this.glowAnimation.play()}},r.showRewardAd=function(){this.rewardCount=0,b.Instance.showAd(this.onAdCallback.bind(this))},r.onAdCallback=function(t){this.rewardCount++,this.rewardCount>1||t&&(this.chestUnlockPanel.node.active=!0,this.chestUnlockPanel.show((function(){})),this.adRewardCallBack(!0))},r.adRewardCallBack=function(t){if(t){var e=this.getUpdatedTimestamp();this.countDownTime=new Date(e).getTime(),w.chestTimeStamp=this.countDownTime,this.canCountDown=!0,this.glow.active=!1,this.glowAnimation.pause(),this.chestButton.interactable=!1,this.chestMask.active=!0,m.emit(f.SaveData)}},r.getUpdatedTimestamp=function(){var t=new Date;return t.setMinutes(t.getMinutes()+this.maxTimerinMinutes),t=new Date(t)},e}(p)).prototype,"chestUnlockPanel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(A.prototype,"chestButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(A.prototype,"chestMask",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(A.prototype,"timerLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(A.prototype,"maxTimerinMinutes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(A.prototype,"glow",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(A.prototype,"glowAnimation",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/SettingsPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game.config.ts","./Enums.ts","./AudioManager.ts"],(function(e){"use strict";var i,t,r,n,a,o,s,u,p,l,c,m,S;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.SpriteFrame,u=e.Sprite,p=e.game,l=e.Component},function(e){c=e.GameConfig},function(e){m=e.GameEvents},function(e){S=e.default}],execute:function(){var b,f,g,F,v,y,h,d,z,w,P,T,I,_,D;a._RF.push({},"38059tH6KJPeI8iyF/4IelW","SettingsPanel",void 0);var E=o.ccclass,M=o.property;e("SettingsPanel",(b=E("SettingsPanel"),f=M({type:s}),g=M({type:u}),F=M({type:s}),v=M({type:u}),y=M({type:s}),h=M({type:u}),b((w=i((z=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,r(n(i),"musicSpriteFrames",w,n(i)),r(n(i),"musicSprite",P,n(i)),r(n(i),"soundSpriteFrames",T,n(i)),r(n(i),"soundSprite",I,n(i)),r(n(i),"vibrationSpriteFrames",_,n(i)),r(n(i),"vibrationSprite",D,n(i)),i}t(i,e);var a=i.prototype;return a.start=function(){this.musicSprite.spriteFrame=this.musicSpriteFrames[c.music?1:0],this.soundSprite.spriteFrame=this.soundSpriteFrames[c.soundEffects?1:0],this.vibrationSprite.spriteFrame=this.vibrationSpriteFrames[c.vibration?1:0]},a.onMusicToggle=function(){this.musicSprite.spriteFrame=this.musicSpriteFrames[S.Instance.musicToggle()]},a.onSoundEffectToggle=function(){this.soundSprite.spriteFrame=this.soundSpriteFrames[S.Instance.soundToggle()]},a.onVibrationToggle=function(){c.vibration=!c.vibration,this.vibrationSprite.spriteFrame=this.vibrationSpriteFrames[c.vibration?1:0],p.emit(m.SaveData)},i}(l)).prototype,"musicSpriteFrames",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=i(z.prototype,"musicSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(z.prototype,"soundSpriteFrames",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=i(z.prototype,"soundSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(z.prototype,"vibrationSpriteFrames",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=i(z.prototype,"vibrationSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=z))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/GamezopSceneLoader.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./GamezopSDK.ts"],(function(e){"use strict";var t,n,r,i,o,a,s,c,u,l,m,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,c=e.UITransformComponent,u=e.Size,l=e.systemEvent,m=e.assetManager,p=e.director,h=e.Component},function(e){f=e.GamezopSDK}],execute:function(){var d,S,z,g,y,v;a._RF.push({},"434c5pLNAtNyLDIwDNC+EEc","GamezopSceneLoader",void 0);var L=s.ccclass,b=s.property;e("GamezopSceneLoader",(d=L("GamezopSceneLoader"),S=b({type:c}),d((y=t((g=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,r(i(t),"maskUITransform",y,i(t)),o(i(t),"uSize",new u),r(i(t),"gameStartSceneName",v,i(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){this.uSize=this.maskUITransform.contentSize.clone(),this.maskUITransform.setContentSize(new u(0,this.uSize.height)),l.on("gamezop-initialised",this.startLoader.bind(this),this)},a.start=function(){},a.onDestroy=function(){l.removeAll(this)},a.startLoader=function(){var e;null===(e=m.main)||void 0===e||e.loadScene(this.gameStartSceneName,this.onProgress.bind(this),this.onCompleted.bind(this))},a.onProgress=function(e,t,n){var r=e/t,i=r*this.uSize.width;this.maskUITransform.setContentSize(new u(i,this.uSize.height)),f.Instance.updateLoading(Math.floor(100*r))},a.onCompleted=function(e,t){p.runScene(t)},t}(h)).prototype,"maskUITransform",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(g.prototype,"gameStartSceneName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=g))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/HeatC.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game.config.ts"],(function(e){"use strict";var n,t,o,r,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.Component},function(e){c=e.GameConfig}],execute:function(){var s;t._RF.push({},"4e671WW5WFFTY/c74gXNfem","HeatC",void 0);var a=o.ccclass;o.property,e("HeatC",a("HeatC")(s=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.onLevelIdChanged=function(e){c.currentLevel=parseInt(e),console.log("level id"+parseInt(e))},o.onCoinAmountChanged=function(e){c.upgrades.CoinsCollected=parseInt(e),console.log("coins amount "+parseInt(e))},t}(r))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game.config.ts","./Enums.ts","./Meteor.ts","./Boss.ts","./PowerupMeteor.ts"],(function(e){"use strict";var t,i,o,n,s,r,a,l,h,c,u,p,d,f,g,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.defineProperty},function(e){r=e.cclegacy,a=e._decorator,l=e.Collider2D,h=e.Contact2DType,c=e.Vec3,u=e.lerp,p=e.Component},function(e){d=e.GameConfig},function(e){f=e.PhysicsTag},function(e){g=e.Meteor},function(e){y=e.Boss},function(e){v=e.PowerupMeteor}],execute:function(){var m,B,P,D,C;r._RF.push({},"529a2/xQ8BLs6vf2ceGVKu5","Bullet",void 0);var w=a.ccclass,A=a.property;a.type,e("Bullet",(m=w("Bullet"),B=A({type:l}),m((C=t((D=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(n(t),"collider2D",C,n(t)),s(n(t),"isAlive",!1),s(n(t),"speed",750),s(n(t),"screenHeight",800),t}i(t,e);var r=t.prototype;return r.setReference=function(e){this.damage=Math.floor(d.upgrades.FirePower),this.player=e,this.collider2D&&this.collider2D.on(h.BEGIN_CONTACT,this.onBeginContact,this)},r.update=function(e){this.isAlive&&(this.node.position.y>this.screenHeight?this.hide():(this.node.position=new c(this.node.position.x,this.node.position.y+this.speed*e,0),this.setXPos(u(this.node.position.x,this.destinationX,5*e))))},r.setXPos=function(e){this.node.setPosition(new c(e,this.node.position.y,0))},r.reset=function(e,t,i){this.destinationX=t.x,this.node.setPosition(new c(e.x,t.y+i,0)),this.isAlive=!0},r.hide=function(){this.isAlive=!1,this.player.BulletPool.put(this.node)},r.onBeginContact=function(e,t,i){if(t.tag==f.Meteor&&this.isAlive){var o=t.getComponent(g);null==o||o.takeDamage(this.damage),this.hide()}if(t.tag==f.Boss&&this.isAlive){var n=t.getComponent(y);null==n||n.takeDamage(this.damage),this.hide()}if(t.tag==f.PowerupMeteor&&this.isAlive){var s=t.getComponent(v);null==s||s.takeDamage(this.damage),this.hide()}},t}(p)).prototype,"collider2D",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=D))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/PurchaseNotification.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./game.config.ts"],(function(t){"use strict";var e,n,i,o,r,a,l,c,u,s,p,f,b,h,y,d,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty,a=t.createClass},function(t){l=t.cclegacy,c=t._decorator,u=t.Sprite,s=t.Button,p=t.Label,f=t.Node,b=t.Vec3,h=t.tween,y=t.Component},function(t){d=t.NumberFormatter},function(t){k=t.GameConfig}],execute:function(){var g,m,P,w,B,I,v,S,z,x,N,T,_,C,F;l._RF.push({},"551bf0ZIfZGLqWewStmxqbf","PurchaseNotification",void 0);var L=c.ccclass,D=c.property;t("PurchaseNotification",(g=L("PurchaseNotification"),m=D({type:u}),P=D({type:s}),w=D({type:p}),B=D({type:u}),I=D({type:Number}),v=D({type:f}),g((x=e((z=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(o(e),"tankIcon",x,o(e)),i(o(e),"unlockButton",N,o(e)),i(o(e),"unlockPrice",T,o(e)),i(o(e),"unlockButtonSprite",_,o(e)),i(o(e),"selectedTankIndex",C,o(e)),i(o(e),"panel",F,o(e)),r(o(e),"startposition",new b(0,1e3,0)),r(o(e),"endposition",new b(0,-1e3,0)),e}n(e,t);var l=e.prototype;return l.closePanel=function(){var t=this;h(this.panel).to(.2,{position:this.endposition}).call((function(){t.node.active=!1})).start()},l.updateProperties=function(t,e,n){this.panel.setPosition(this.startposition),h(this.panel).to(.2,{position:b.ZERO}).start(),this.tankIcon.spriteFrame=t,this.selectedTankIndex=n,this.unlockPrice.string=d(e).toString(),k.upgrades.GemsCollected>=e?(this.unlockButton.interactable=!0,this.unlockButtonSprite.grayscale=!1):(this.unlockButton.interactable=!1,this.unlockButtonSprite.grayscale=!0)},a(e,[{key:"SelectedTankIndex",get:function(){return this.selectedTankIndex}}]),e}(y)).prototype,"tankIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(z.prototype,"unlockButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(z.prototype,"unlockPrice",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(z.prototype,"unlockButtonSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(z.prototype,"selectedTankIndex",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(z.prototype,"panel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=z))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/Wheel.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,a,n,s,l,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,l=e.find,o=e.Vec3,c=e.Component}],execute:function(){var h,p,u,y,f;n._RF.push({},"61f00akPudKDZ2JZ8ceL5CN","Wheel",void 0);var P=s.ccclass,d=s.property;s.type,e("Wheel",(h=P("Wheel"),p=d({type:Number}),h((f=t((y=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,r(a(t),"wheelDiameter",f,a(t)),t}i(t,e);var n=t.prototype;return n.start=function(){var e=l("Canvas/Player");this.player=e,this.player&&(this.lastPlayerPositionX=this.player.getPosition().x)},n.update=function(){if(this.player){var e=this.player.getPosition().x-this.lastPlayerPositionX;this.lastPlayerPositionX=this.player.getPosition().x,this.node.eulerAngles=new o(0,0,this.node.eulerAngles.z-360*e/(Math.PI*this.wheelDiameter))}},t}(c)).prototype,"wheelDiameter",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=y))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/MeteorSpawner.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./game.config.ts","./GamezopSDK.ts","./Enums.ts","./AudioManager.ts","./SmokeEffect.ts","./Meteor.ts","./PowerupMeteor.ts","./Coin.ts","./PowerupIcon.ts","./BlastEffect.ts","./CameraShake.ts","./GameManager.ts","./UIManager.ts","./BossManager.ts"],(function(e){"use strict";var t,n,o,s,r,i,a,c,u,l,h,f,p,m,S,d,v,w,g,M,C,b,P,y,I,E,k,B,L,G,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized,r=e.defineProperty,i=e.createClass},function(e){a=e.cclegacy,c=e._decorator,u=e.Prefab,l=e.Node,h=e.NodePool,f=e.game,p=e.instantiate,m=e.randomRangeInt,S=e.Component},function(e){d=e.InterpolateInput},function(e){v=e.GameConfig},function(e){w=e.GamezopSDK,g=e.EGZPStateType},function(e){M=e.GameEvents},function(e){C=e.default},function(e){b=e.SmokeEffect},function(e){P=e.Meteor},function(e){y=e.PowerupMeteor},function(e){I=e.Coin},function(e){E=e.PowerupIcon},function(e){k=e.BlastEffect},function(e){B=e.CameraShake},function(e){L=e.GameManager},function(e){G=e.UIManager},function(e){z=e.BossManager}],execute:function(){var H,R,T,A,O,F,D,U,x,_,N,j,V,K,Y,q,J,X,Z,Q,W,$,ee,te,ne,oe,se,re,ie,ae,ce,ue,le;a._RF.push({},"62afcab9FVOUqNu6O5C9lJ1","MeteorSpawner",void 0);var he=c.ccclass,fe=c.property;c.type,e("MeteorSpawner",(H=he("MeteorSpawner"),R=fe({type:C}),T=fe({type:z}),A=fe({type:G}),O=fe({type:[u]}),F=fe({type:l}),D=fe({type:u}),U=fe({type:u}),x=fe({type:l}),_=fe({type:u}),N=fe({type:u}),j=fe({type:l}),V=fe({type:u}),K=fe({type:l}),Y=fe({type:Number}),q=fe({type:B}),H((Z=t((X=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(s(t),"audioManager",Z,s(t)),o(s(t),"bossManager",Q,s(t)),o(s(t),"uiManager",W,s(t)),o(s(t),"meteorPrefabs",$,s(t)),r(s(t),"meteors",[]),o(s(t),"meteorContainer",ee,s(t)),r(s(t),"meteorsCount",25),o(s(t),"powerupMeteorPrefab",te,s(t)),r(s(t),"powerupMeteors",new h),o(s(t),"coinPrefabs",ne,s(t)),r(s(t),"coins",[]),o(s(t),"coinContainer",oe,s(t)),r(s(t),"coinSpawnCount",25),r(s(t),"coinChance",0),o(s(t),"powerupIconPrefab",se,s(t)),r(s(t),"powerupIcons",new h),o(s(t),"blastEffectPrefab",re,s(t)),r(s(t),"blastEffects",new h),o(s(t),"blastEffectsContainer",ie,s(t)),o(s(t),"smokePrefab",ae,s(t)),r(s(t),"smokeEffects",new h),o(s(t),"smokeEffectContainer",ce,s(t)),r(s(t),"meteorsInSessions",[]),r(s(t),"projectedSessionScore",0),o(s(t),"percentageToGetArray",ue,s(t)),r(s(t),"countOfMeteors",[0,0,0]),r(s(t),"targetSessionScore",0),r(s(t),"levelScore",0),r(s(t),"isLevelMode",!1),r(s(t),"isBossLevel",!1),o(s(t),"cameraShake",le,s(t)),r(s(t),"isFirstPowerupSpawned",!1),r(s(t),"isSecondPowerupSpawned",!1),r(s(t),"isPowerUpBoulderDestroyed",!1),r(s(t),"fireSpeed",0),r(s(t),"firePower",0),r(s(t),"coinPower",0),r(s(t),"currentLevel",0),r(s(t),"maxStoneCountInScene",0),r(s(t),"stoneCountInScene",0),r(s(t),"stoneSpawnedCount",0),r(s(t),"startGeneratedStoneHP",0),r(s(t),"stoneHpBuffer",0),t}n(t,e);var a=t.prototype;return a.onEnable=function(){f.on(M.StartGame,this.onStartGame,this),f.on(M.OnMeteorBroken,this.onStoneBroken,this),f.on(M.GameOver,this.onGameOver,this)},a.onDisable=function(){f.removeAll(this)},a.start=function(){this.levelScore=this.stoneCountInScene=this.stoneSpawnedCount=0,this.isLevelMode=L.Instance.IsLevelMode,this.currentLevel=v.currentLevel,this.maxStoneCountInScene=6,this.audioManager=C.Instance,this.projectedSessionScore=10*this.currentLevel,this.prepareMeteors(),this.preparePowerupIcons(),this.prepareBlastEffects(),this.prepareSmokeEffects(),this.isLevelMode&&!w.Instance.isTournament()&&(this.prepareMeteorsForSession(),this.prepareCoins(),this.preparePowerupMeteors()),this.levelScore=this.stoneCountInScene=this.stoneSpawnedCount=0},a.prepareMeteors=function(){this.meteors[0]=new h,this.meteors[1]=new h,this.meteors[2]=new h;for(var e=0;e<3;e++)for(var t=0;t<this.meteorsCount;t++){var n,o=p(this.meteorPrefabs[e]);o.parent=this.meteorContainer,null===(n=o.getComponent(P))||void 0===n||n.setReference(this),this.meteors[e].put(o)}},a.cleatActiveBoulders=function(){if(!this.isLevelMode){this.meteorContainer.children;this.meteorContainer.children.forEach((function(e){var t;null===(t=e.getComponent(P))||void 0===t||t.disableObject()}))}},a.prepareCoins=function(){this.coins[0]=new h,this.coins[1]=new h,this.coins[2]=new h;for(var e=0;e<3;e++)for(var t=0;t<this.coinSpawnCount;t++){var n,o=p(this.coinPrefabs[e]);null===(n=o.getComponent(I))||void 0===n||n.setReference(this),this.coins[e].put(o)}},a.preparePowerupMeteors=function(){this.powerupMeteors=new h;for(var e=0;e<3;e++){var t,n=p(this.powerupMeteorPrefab);null===(t=n.getComponent(y))||void 0===t||t.setReference(this),this.powerupMeteors.put(n)}},a.preparePowerupIcons=function(){this.powerupIcons=new h;for(var e=0;e<3;e++){var t,n=p(this.powerupIconPrefab);null===(t=n.getComponent(E))||void 0===t||t.setReference(this),this.powerupIcons.put(n)}},a.prepareBlastEffects=function(){this.blastEffects=new h;for(var e=0;e<15;e++){var t,n=p(this.blastEffectPrefab);null===(t=n.getComponent(k))||void 0===t||t.SetReference(this),this.blastEffects.put(n)}},a.prepareSmokeEffects=function(){this.smokeEffects=new h;for(var e=0;e<15;e++){var t,n=p(this.smokePrefab);null===(t=n.getComponent(b))||void 0===t||t.setReference(this),this.smokeEffects.put(n)}},a.prepareMeteorsForSession=function(){for(var e=0;e<3;e++){var t=this.percentageToGetArray[e]/100*this.projectedSessionScore;this.countOfMeteors[e]=t}for(var n=0;n<3;n++)if(0==n)for(var o=0;o<this.countOfMeteors[n];o++)this.meteorsInSessions.push(n),this.targetSessionScore+=1;else if(1==n)for(var s=0;s<this.countOfMeteors[n]/2;s++)this.meteorsInSessions.push(n),this.targetSessionScore+=2;else if(2==n)for(var r=0;r<this.countOfMeteors[n]/4;r++)this.meteorsInSessions.push(n),this.targetSessionScore+=4;this.shuffle(this.meteorsInSessions)},a.onStartGame=function(){if(this.fireSpeed=v.upgrades.FireSpeed,this.firePower=v.upgrades.FirePower,this.coinPower=v.upgrades.CoinsPower,this.isLevelMode&&!w.Instance.isTournament()){this.coinChance=this.coinPower+29,this.coinChance>100&&(this.coinChance=100);var e=Math.floor(this.firePower*this.fireSpeed*1);this.startGeneratedStoneHP=Math.floor(this.firePower+this.currentLevel+Math.floor(Math.random()*(e-.5*e)+e)),this.currentLevel>1&&this.currentLevel%5==0?(this.stoneHpBuffer=this.currentLevel+20,this.isBossLevel=!0,this.bossManager.spawnBoss()):(this.spawnMeteors(this.meteorsInSessions[this.stoneSpawnedCount]),this.isBossLevel=!1)}else{this.levelScore=this.stoneCountInScene=this.stoneSpawnedCount=0,this.startGeneratedStoneHP=1;var t=Math.floor(3*Math.random());this.spawnMeteors(t)}},a.spawnMeteors=function(e){var t,n,o=null;this.meteors[e].size()>0?t=this.meteors[e].get():null===(n=o=(t=p(this.meteorPrefabs[e])).getComponent(P))||void 0===n||n.setReference(this);t&&(o=t.getComponent(P))&&(this.increaseStonesCountInScene(o),this.setMeteorHP(o,this.startGeneratedStoneHP),t.parent=this.meteorContainer,t.active=!0,o.spawn(!1,0))},a.increaseStonesCountInScene=function(e){this.stoneSpawnedCount=Math.min(this.meteorsInSessions.length-1,this.stoneSpawnedCount+1),this.stoneCountInScene+=e.ChildStones},a.spawnPowerupMeteor=function(e){var t,n,o;this.powerupMeteors.size()>0?t=this.powerupMeteors.get():null===(o=n=(t=p(this.powerupMeteorPrefab)).getComponent(y))||void 0===o||o.setReference(this);t&&(n=t.getComponent(y))&&(t.parent=this.meteorContainer,t.active=!0,n.spawn(10+this.startGeneratedStoneHP,e))},a.setMeteorHP=function(e,t){if(this.isLevelMode&&!w.Instance.isTournament())if(1==e.ChildStones){var n=Math.floor(t/4);e.Health=0==n?1:n}else 2==e.ChildStones?e.Health=Math.floor(t/2):4==e.ChildStones&&(e.Health=t);else e.Health=t},a.spawnCoin=function(e,t){var n,o=Math.floor(100*Math.random()),s=0;if(o<=85?s=0:o>85&&o<=95?s=1:o>95&&(s=2),o>this.coinChance){var r,i;if(this.coins[s].size()>0)n=this.coins[s].get();else null===(r=(n=p(this.coinPrefabs[s])).getComponent(I))||void 0===r||r.setReference(this);if(n)n.parent=this.coinContainer,n.active=!0,null===(i=n.getComponent(I))||void 0===i||i.spawn(e,t)}},a.SpawnPowerup=function(e,t){var n,o,s=null;this.powerupIcons.size()>0?s=this.powerupIcons.get():null===(n=(s=p(this.powerupIconPrefab)).getComponent(E))||void 0===n||n.setReference(this);s&&(s.parent=this.coinContainer,s.active=!0,null===(o=s.getComponent(E))||void 0===o||o.spawn(e,t))},a.spawnSplitMeteors=function(e,t,n){var o,s,r,i;this.meteors[t-1].size()>0?o=this.meteors[t-1].get():null===(r=(o=p(this.meteorPrefabs[t-1])).getComponent(P))||void 0===r||r.setReference(this);this.meteors[t-1].size()>0?s=this.meteors[t-1].get():null===(i=(s=p(this.meteorPrefabs[Math.floor(Math.random()*this.meteorPrefabs.length)])).getComponent(P))||void 0===i||i.setReference(this);if(o){var a=o.getComponent(P);a&&(this.setMeteorHP(a,this.isLevelMode&&!w.Instance.isTournament()?this.startGeneratedStoneHP:this.setBattleModeHealth(n)),o.parent=this.meteorContainer,o.active=!0,o.setPosition(e.x,e.y),null==a||a.spawn(!0,1))}if(s){var c=s.getComponent(P);c&&(this.setMeteorHP(c,this.isLevelMode&&!w.Instance.isTournament()?this.startGeneratedStoneHP:this.setBattleModeHealth(n)),s.parent=this.meteorContainer,s.active=!0,s.setPosition(e.x,e.y),null==c||c.spawn(!0,-1))}},a.setBattleModeHealth=function(e){var t=Math.floor(e/2);return t<=0?1:t},a.spawnMeteorFromBoss=function(e,t){var n,o;this.meteors[t-1].size()>0?n=this.meteors[t-1].get():null===(o=(n=p(this.meteorPrefabs[t-1])).getComponent(P))||void 0===o||o.setReference(this);if(n){var s=n.getComponent(P);if(s){var r=m(this.startGeneratedStoneHP,this.startGeneratedStoneHP+this.stoneHpBuffer);this.setMeteorHP(s,r),n.parent=this.meteorContainer,n.active=!0,n.setPosition(e.x,e.y),null==s||s.spawn(!0,1)}}},a.spawnBlastEffect=function(e,t,n){var o,s,r;this.blastEffects.size()>0?o=this.blastEffects.get():null===(s=(o=p(this.blastEffectPrefab)).getComponent(k))||void 0===s||s.SetReference(this);o&&(o.parent=this.blastEffectsContainer,o.active=!0,null===(r=o.getComponent(k))||void 0===r||r.Play(e,t,n))},a.spawnSmokeEffect=function(e){var t,n,o;this.smokeEffects.size()>0?t=this.smokeEffects.get():null===(n=(t=p(this.smokePrefab)).getComponent(b))||void 0===n||n.setReference(this);t&&(t.parent=this.smokeEffectContainer,t.active=!0,null===(o=t.getComponent(b))||void 0===o||o.play(e))},a.spawnChildSmokeEffect=function(e){var t,n,o;this.smokeEffects.size()>0?t=this.smokeEffects.get():null===(n=(t=p(this.smokePrefab)).getComponent(b))||void 0===n||n.setReference(this);t&&(t.parent=this.smokeEffectContainer,t.active=!0,null===(o=t.getComponent(b))||void 0===o||o.playChildFX(e))},a.onStoneBroken=function(){if(!this.isBossLevel)if(this.stoneCountInScene-=1,this.levelScore+=1,this.isLevelMode&&!w.Instance.isTournament())this.updateLevelSessionProgress(this.levelScore),L.Instance._isGameOverFired||w.Instance.setState(g.STATE_PLAYING,this.levelScore,"default"),this.stoneCountInScene<this.maxStoneCountInScene&&this.spawnMeteors(this.meteorsInSessions[this.stoneSpawnedCount]);else{this.increaseBattleScore();var e=Math.floor(1.5);this.startGeneratedStoneHP+=Math.floor(Math.random()*(e-.5*e)+e),this.stoneCountInScene<this.maxStoneCountInScene&&this.spawnMeteors(Math.floor(3*Math.random()))}},a.updateLevelSessionProgress=function(e){if(v.scores.levelSessionScore=e,this.uiManager.updateScore(e),!w.Instance.isTournament()){var t=d(e,0,this.targetSessionScore);this.currentLevel>1&&(t>.3&&!this.isFirstPowerupSpawned?(this.isPowerUpBoulderDestroyed=!0,this.isFirstPowerupSpawned=!0,this.spawnPowerupMeteor(0)):t>.7&&!this.isSecondPowerupSpawned&&!this.isPowerUpBoulderDestroyed&&(this.isSecondPowerupSpawned=!0,this.spawnPowerupMeteor(1))),this.uiManager.updateSessionProgressBar(t,!1)}},a.increaseBattleScore=function(){var e=w.Instance.readVar("score");-1==e?e=1:e+=1,w.Instance.writeVar("score",e),w.Instance.setState(g.STATE_PLAYING,e,"default"),this.uiManager.updateEndlessGameScore(e)},a.onGameOver=function(){this.stoneCountInScene=this.stoneSpawnedCount=this.levelScore=0,this.scheduleOnce(this.cleatActiveBoulders,.5),this.cleatActiveBoulders()},a.shuffle=function(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var o=[e[t],e[n]];e[n]=o[0],e[t]=o[1]}return e},i(t,[{key:"AudioManager",get:function(){return this.audioManager}},{key:"Meteors",get:function(){return this.meteors}},{key:"PowerupMeteors",get:function(){return this.powerupMeteors}},{key:"Coins",get:function(){return this.coins}},{key:"PowerupIcons",get:function(){return this.powerupIcons}},{key:"BlastEffects",get:function(){return this.blastEffects}},{key:"SmokeEffects",get:function(){return this.smokeEffects}},{key:"IsLevelMode",get:function(){return this.isLevelMode}},{key:"IsBossLevel",get:function(){return this.isBossLevel}},{key:"CameraShake",get:function(){return this.cameraShake}},{key:"IsPowerUpBoulderDestroyed",set:function(e){this.isPowerUpBoulderDestroyed=e}}]),t}(S)).prototype,"audioManager",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(X.prototype,"bossManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(X.prototype,"uiManager",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(X.prototype,"meteorPrefabs",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(X.prototype,"meteorContainer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(X.prototype,"powerupMeteorPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(X.prototype,"coinPrefabs",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=t(X.prototype,"coinContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(X.prototype,"powerupIconPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(X.prototype,"blastEffectPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(X.prototype,"blastEffectsContainer",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(X.prototype,"smokePrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(X.prototype,"smokeEffectContainer",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(X.prototype,"percentageToGetArray",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[0,0,0]}}),le=t(X.prototype,"cameraShake",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=X))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupMeteor.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./game.config.ts","./Enums.ts","./ChildTurret.ts"],(function(e){"use strict";var i,t,o,n,r,s,a,l,h,d,p,c,u,y,g,b,f,m,w,D,S,v,P;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.defineProperty},function(e){s=e.cclegacy,a=e._decorator,l=e.RigidBody2D,h=e.Collider2D,d=e.SpriteFrame,p=e.Sprite,c=e.Node,u=e.Vec3,y=e.game,g=e.Contact2DType,b=e.view,f=e.Vec2,m=e.Component},function(e){w=e.Interpolate},function(e){D=e.GameConfig},function(e){S=e.GameEvents,v=e.PhysicsTag},function(e){P=e.ChildTurret}],execute:function(){var B,C,F,k,O,R,L,T,V,x,z,E,M,N,_;s._RF.push({},"6b31cscKQdKI6PYWRNHkiS3","PowerupMeteor",void 0);var A=a.ccclass,I=a.property;a.type,a.integer,e("PowerupMeteor",(B=A("PowerupMeteor"),C=I({type:l}),F=I({type:h}),k=I({type:Number}),O=I({type:d}),R=I({type:p}),L=I({type:c}),B((x=i((V=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s))||this,o(n(i),"rigidBody2D",x,n(i)),o(n(i),"collider2D",z,n(i)),o(n(i),"jumpForce",E,n(i)),o(n(i),"breakableSprites",M,n(i)),o(n(i),"sprite",N,n(i)),o(n(i),"labelNode",_,n(i)),r(n(i),"leftAndRight",[-1,1]),r(n(i),"direction",0),r(n(i),"screenOffset",0),r(n(i),"yPosition",0),r(n(i),"deadPosition",new u(0,0,0)),r(n(i),"maxHitPoints",0),r(n(i),"health",0),r(n(i),"isShowing",!0),i}t(i,e);var s=i.prototype;return s.onEnable=function(){y.on(S.LevelCompleted,this.onLevelCompleted,this),y.on(S.GameOver,this.onLevelCompleted,this)},s.onDisable=function(){y.removeAll(this)},s.onLoad=function(){this.collider2D&&this.collider2D.on(g.BEGIN_CONTACT,this.onBeginContact,this),this.yPosition=this.node.getPosition().y,y.on(S.LevelCompleted,this.onLevelCompleted,this),y.on(S.GameOver,this.onLevelCompleted,this)},s.spawn=function(e,i){this.node.setRotation(0,0,0,0),this.powerupIndex=i,this.node.setScale(.5,.5,0),this.labelNode.setScale(1,1,0),this.sprite.spriteFrame=this.breakableSprites[0],this.collider2D.enabled=!1,this.health=this.maxHitPoints=e,this.direction=this.leftAndRight[Math.random()<.5?0:1],this.screenOffset=b.getVisibleSize().width/2*1.3,this.node.setPosition(this.screenOffset*this.direction,this.yPosition),this.isShowing=!0,this.rigidBody2D._enabled=!0,this.rigidBody2D.gravityScale=0,this.rigidBody2D.linearVelocity=new f(2*-this.direction,0),this.scheduleOnce(this.fallDown,2)},s.setReference=function(e){this.meteorSpawner=e},s.fallDown=function(){this.isShowing=!1,this.collider2D.enabled=!0,this.rigidBody2D.linearVelocity=f.ZERO,this.rigidBody2D.gravityScale=1,this.rigidBody2D.linearVelocity=new f(3*-this.direction,2)},s.takeDamage=function(e){if(this.health>1){this.health-=e;var i=w(this.health,0,this.maxHitPoints,1,.5);this.node.setScale(i,i,0),this.labelNode.setScale(1+i,1+i,0),i>.6&&i<.7?this.sprite.spriteFrame=this.breakableSprites[1]:i>.7&&i<.8?this.sprite.spriteFrame=this.breakableSprites[2]:i>.8&&(this.sprite.spriteFrame=this.breakableSprites[3])}else this.die()},s.die=function(){var e=this;this.meteorSpawner.AudioManager.playSound("balloon-pop"),this.rigidBody2D._enabled=!1,this.rigidBody2D.linearVelocity=f.ZERO,this.deadPosition=this.node.getPosition(),this.meteorSpawner.PowerupMeteors.put(this.node),this.meteorSpawner.IsPowerUpBoulderDestroyed=!1,"vibrate"in navigator&&D.vibration&&navigator.vibrate(100),this.scheduleOnce((function(){e.meteorSpawner.spawnBlastEffect(2,e.deadPosition,!0),e.meteorSpawner.SpawnPowerup(e.deadPosition,e.powerupIndex)}),0)},s.onLevelCompleted=function(){this.rigidBody2D._enabled=!1,this.rigidBody2D.linearVelocity=f.ZERO,this.node.active=!1},s.onBeginContact=function(e,i,t){var o;i.tag==v.ChildTurret&&(null===(o=i.getComponent(P))||void 0===o||o.kill());this.isShowing||i.tag!=v.Wall||(i.node.getPosition().x>0?this.rigidBody2D.applyForceToCenter(new f(1,0),!0):this.rigidBody2D.applyForceToCenter(new f(-1,0),!0));i.tag==v.Ground&&(this.meteorSpawner.AudioManager.playSound("bounce"),this.meteorSpawner.spawnSmokeEffect(this.node.position.x),this.rigidBody2D.linearVelocity=new f(this.rigidBody2D.linearVelocity.x,this.jumpForce))},i}(m)).prototype,"rigidBody2D",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(V.prototype,"collider2D",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(V.prototype,"jumpForce",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(V.prototype,"breakableSprites",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=i(V.prototype,"sprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(V.prototype,"labelNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=V))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundUI.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./game.config.ts","./Enums.ts"],(function(e){"use strict";var i,r,t,n,o,a,c,l,s,p,u,y,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Sprite,l=e.Node,s=e.Enum,p=e.Component},function(e){u=e.Interpolate},function(e){y=e.GameConfig},function(e){g=e.BackgroundUnlockCurrency}],execute:function(){var d,b,f,h,m,v,w,P,k,z,B,S,T,U,F,N,D,I,O,C,_;o._RF.push({},"6e480e6gwJPZ6vD+bDO/G1o","BackgroundUI",void 0);var x=a.ccclass,R=a.property;e("BackgroundUI",(d=x("BackgroundUI"),b=R({type:c}),f=R({type:c}),h=R({type:l}),m=R({type:l}),v=R({type:Boolean}),w=R({type:Boolean}),P=R({type:Number}),k=R({type:s(g)}),z=R({type:Number}),d((T=i((S=function(e){function i(){for(var i,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,t(n(i),"icon",T,n(i)),t(n(i),"percentageProgressSprite",U,n(i)),t(n(i),"lock",F,n(i)),t(n(i),"alertNotification",N,n(i)),t(n(i),"isUnlocked",D,n(i)),t(n(i),"isOpened",I,n(i)),t(n(i),"index",O,n(i)),t(n(i),"currencyType",C,n(i)),t(n(i),"price",_,n(i)),i}r(i,e);var o=i.prototype;return o.updateStatus=function(e,i,r,t,n,o){this.isUnlocked=e,this.isOpened=i,this.icon.spriteFrame=r,this.index=t,this.price=n,this.currencyType=o,e?(this.lock.active=!1,this.percentageProgressSprite.node.active=!1,this.alertNotification.active=!i):(this.percentageProgressSprite.node.active=!0,this.percentageProgressSprite.fillRange=this.updateProgress(),this.lock.active=!0,this.alertNotification.active=!1)},o.updateProgress=function(){var e=0;return this.currencyType==g.Games?e=u(y.noOfSessionsPlayed,0,this.price,0,1):this.currencyType==g.Boulders?e=u(y.noOfBouldersDestroyed,0,this.price,0,1):this.currencyType==g.FireRate?e=u(y.upgrades.FireSpeed,3,this.price,0,1):this.currencyType==g.FirePower?e=u(100*y.upgrades.FirePower,100,this.price,0,1):this.currencyType==g.CoinPower&&(e=u(100*y.upgrades.CoinsPower,100,this.price,0,1)),e},i}(p)).prototype,"icon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(S.prototype,"percentageProgressSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(S.prototype,"lock",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(S.prototype,"alertNotification",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(S.prototype,"isUnlocked",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(S.prototype,"isOpened",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(S.prototype,"index",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(S.prototype,"currencyType",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(S.prototype,"price",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=S))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/Meteor.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./game.config.ts","./GamezopSDK.ts","./Enums.ts","./ChildTurret.ts"],(function(e){"use strict";var i,t,o,n,r,s,a,l,h,d,c,u,p,g,f,b,y,m,w,S,v,D,B,C,z;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.defineProperty,s=e.createClass},function(e){a=e.cclegacy,l=e._decorator,h=e.RigidBody2D,d=e.Collider2D,c=e.Sprite,u=e.Label,p=e.Vec3,g=e.Contact2DType,f=e.game,b=e.view,y=e.Vec2,m=e.Color,w=e.Component},function(e){S=e.NumberFormatter},function(e){v=e.GameConfig},function(e){D=e.GamezopSDK},function(e){B=e.GameEvents,C=e.PhysicsTag},function(e){z=e.ChildTurret}],execute:function(){var P,k,M,O,A,F,E,H,T,I,R,V,_,L,G,x,U;a._RF.push({},"7010cfPnBFCP5huh+GXEoQi","Meteor",void 0);var j=l.ccclass,N=l.property;l.type,e("Meteor",(P=j("Meteor"),k=N({type:h}),M=N({type:d}),O=N({type:c}),A=N({type:u}),F=N({type:Number}),E=N({type:Number}),H=N({type:Number}),P((R=i((I=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s))||this,o(n(i),"rigidBody2D",R,n(i)),o(n(i),"collider2D",V,n(i)),o(n(i),"sprite",_,n(i)),o(n(i),"textHealth",L,n(i)),o(n(i),"jumpForce",G,n(i)),o(n(i),"meteorSize",x,n(i)),o(n(i),"childStones",U,n(i)),r(n(i),"yPosition",0),r(n(i),"leftAndRight",[-1,1]),r(n(i),"screenOffset",0),r(n(i),"direction",0),r(n(i),"health",0),r(n(i),"deadPosition",new p(0,0,0)),r(n(i),"isShowing",!0),r(n(i),"isAlive",!1),r(n(i),"isFissionable",!1),r(n(i),"isBounced",!1),r(n(i),"initHealth",0),i}t(i,e);var a=i.prototype;return a.setReference=function(e){this.meteorSpawner=e,this.yPosition=this.node.getPosition().y,this.collider2D&&this.collider2D.on(g.BEGIN_CONTACT,this.onBeginContact,this),f.on(B.LevelCompleted,this.onLevelCompleted,this),f.on(B.GameOver,this.onLevelCompleted,this)},a.spawn=function(e,i){this.node.setRotation(0,0,0,0),this.isAlive=!0,this.isBounced=!1,this.UpdateHealthUI(),this.setStartColor(this.meteorSize),this.initHealth=this.health,e?(this.rigidBody2D._enabled=!0,this.direction=i,this.fallDown()):(this.collider2D.enabled=!1,this.direction=this.leftAndRight[Math.random()<.5?0:1],this.screenOffset=b.getVisibleSize().width/2*1.3,this.node.setPosition(this.screenOffset*this.direction,this.yPosition),this.isShowing=!0,this.rigidBody2D._enabled=!0,this.rigidBody2D.gravityScale=0,this.rigidBody2D.linearVelocity=new y(2*-this.direction,0),this.scheduleOnce(this.fallDown,2)),this.meteorSize>0&&(this.isFissionable=!0)},a.fallDown=function(){this.isShowing=!1,this.collider2D.enabled=!0,this.rigidBody2D.linearVelocity=y.ZERO,this.rigidBody2D.gravityScale=1,this.rigidBody2D.linearVelocity=new y(3*-this.direction,2)},a.UpdateHealthUI=function(){this.textHealth.string=S(this.health).toString()},a.setStartColor=function(e){switch(e){case 0:this.red=0,this.blue=0,this.green=255;break;case 1:this.red=0,this.blue=255,this.green=255;break;case 2:this.red=255,this.blue=255,this.green=0;break;default:this.red=0,this.blue=0,this.green=255}this.sprite.color=new m(this.red,this.green,this.blue)},a.takeDamage=function(e){this.isAlive&&(this.health-=e,this.health>0?this.UpdateHealthUI():(this.isAlive=!1,this.die()))},a.vibrate=function(){if("vibrate"in navigator&&v.vibration)switch(this.meteorSize){case 0:navigator.vibrate(25);break;case 1:navigator.vibrate(35);break;case 2:navigator.vibrate(45);break;default:navigator.vibrate(25)}},a.die=function(){var e=this;this.meteorSpawner.AudioManager.playSound("balloon-pop"),v.noOfBouldersDestroyed+=1,this.rigidBody2D.linearVelocity=y.ZERO,this.rigidBody2D._enabled=!1,this.deadPosition=this.node.getPosition(),this.meteorSpawner.Meteors[this.meteorSize].put(this.node),this.vibrate(),this.scheduleOnce((function(){e.meteorSpawner.spawnBlastEffect(e.meteorSize,e.deadPosition,e.isBounced),e.isBounced||e.meteorSpawner.AudioManager.playSound("gratification")}),0),this.isFissionable?(this.isFissionable=!1,this.scheduleOnce((function(){e.meteorSpawner.spawnSplitMeteors(e.deadPosition,e.meteorSize,e.initHealth)}),0)):this.scheduleOnce((function(){(e.meteorSpawner.IsBossLevel||f.emit(B.OnMeteorBroken),e.meteorSpawner.IsLevelMode&&!D.Instance.isTournament())&&(Math.floor(100*Math.random())>90?e.meteorSpawner.spawnCoin(e.deadPosition,0):(e.meteorSpawner.spawnCoin(e.deadPosition,5),e.meteorSpawner.spawnCoin(e.deadPosition,-5)))}),0)},a.onLevelCompleted=function(){this.isAlive&&this.disableObject()},a.disableObject=function(){var e=this;this.unscheduleAllCallbacks(),this.meteorSpawner.AudioManager.playSound("balloon-pop"),this.health=0,this.direction=0,this.isAlive=!1,this.isShowing=!1,this.rigidBody2D.linearVelocity=y.ZERO,this.rigidBody2D.gravityScale=0,this.collider2D.enabled=!1,this.rigidBody2D._enabled=!1,this.deadPosition=this.node.getPosition(),this.meteorSpawner.spawnBlastEffect(this.meteorSize,this.deadPosition,!0),this.scheduleOnce((function(){e.meteorSpawner.Meteors[e.meteorSize].put(e.node)}),0)},a.onBeginContact=function(e,i,t){if(i.tag==C.ChildTurret){var o=i.getComponent(z);o&&(this.meteorSpawner.AudioManager.playSound("power-down"),null==o||o.kill(),this.meteorSpawner.spawnChildSmokeEffect(i.node.position))}this.isShowing||i.tag!=C.Wall||(i.node.getPosition().x>0?this.rigidBody2D.applyForceToCenter(new y(1,0),!0):this.rigidBody2D.applyForceToCenter(new y(-1,0),!0));i.tag==C.Ground&&(this.meteorSpawner.AudioManager.playSound("bounce"),this.rigidBody2D.linearVelocity=new y(this.rigidBody2D.linearVelocity.x,this.jumpForce),this.isBounced=!0,this.meteorSpawner.spawnSmokeEffect(this.node.position.x),this.meteorSpawner.CameraShake.startShake(.2,this.getShakeInterval(),!0,(function(){})))},a.getShakeInterval=function(){var e;switch(this.meteorSize){case 0:e=new y(1,-1);break;case 1:e=new y(2,-2);break;case 2:e=new y(3,-3);break;default:e=new y(1,-1)}return e},s(i,[{key:"ChildStones",get:function(){return this.childStones}},{key:"Health",set:function(e){this.health=e}}]),i}(w)).prototype,"rigidBody2D",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(I.prototype,"collider2D",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(I.prototype,"sprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(I.prototype,"textHealth",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(I.prototype,"jumpForce",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(I.prototype,"meteorSize",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=i(I.prototype,"childStones",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=I))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraShake.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,s,n,a,o,r,h,c,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.defineProperty},function(t){o=t.cclegacy,r=t._decorator,h=t.Camera,c=t.Vec2,f=t.clamp,p=t.Component}],execute:function(){var u,l,d,_,m;o._RF.push({},"74b646K5YZEu4+HERJK9tqX","CameraShake",void 0);var y=r.ccclass,g=r.property;t("CameraShake",(u=y("CameraShake"),l=g({type:h}),u((m=e((_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,s(n(e),"camera",m,n(e)),a(n(e),"isRunning",!1),a(n(e),"duration",0),a(n(e),"intensity",new c),a(n(e),"progress",0),a(n(e),"_elapsed",0),a(n(e),"_offsetX",0),a(n(e),"_offsetY",0),e}i(e,t);var o=e.prototype;return o.startShake=function(t,e,i,s){return void 0===t&&(t=.25),void 0===e&&(e=new c(5)),void 0===i&&(i=!1),!i&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,this.intensity.x=e.x,this.intensity.x=e.y,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=s),this.camera},o.update=function(t){if(this.isRunning)if(this._elapsed+=t,this.progress=f(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var e=this.intensity,i=this.camera.rect.width,s=this.camera.rect.height;this._offsetX=Math.random()*e.x*i*2-e.x*i*1,this._offsetY=Math.random()*e.y*s*2-e.y*s*1}else this.effectComplete()},o.lateUpdate=function(t){this.node.setPosition(this._offsetX,this._offsetY)},o.effectComplete=function(){this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope,this.isRunning=!1,this.reset()},o.reset=function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},e}(p)).prototype,"camera",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=_))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/GamezopSDK.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,a,o,r,s,u,l,c,m,p,g,d,f,h,S,z,T;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,u=e._decorator,l=e.Prefab,c=e.sys,m=e.view,p=e.game,g=e.instantiate,d=e.director,f=e.CanvasComponent,h=e.UITransformComponent,S=e.randomRangeInt,z=e.systemEvent,T=e.Component}],execute:function(){var y,v,C,G,b,D,A,E,w,I,P,_;e("EGZPStateType",void 0),s._RF.push({},"7ddbeOp+Y1A2IEMDfpWozEj","GamezopSDK",void 0);var k,K,R=u.ccclass,L=u.property;!function(e){e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_PLAYING="playing",e.STATE_OVER="over",e.STATE_LEVELUP="levelup"}(k||(k=e("EGZPStateType",{}))),function(e){e[e.PORTRAIT=0]="PORTRAIT",e[e.LANDSCAPE=1]="LANDSCAPE"}(K||(K={}));e("GamezopSDK",(y=R("GamezopSDK"),v=L({type:cc.Enum(K)}),C=L({type:l}),y((_=P=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,a(o(n),"gameCode",D,o(n)),a(o(n),"disableDomainCheck",A,o(n)),a(o(n),"apiKey",E,o(n)),t(o(n),"tCount",0),t(o(n),"kCount",0),t(o(n),"initialised",!1),t(o(n),"gzpGame",null),t(o(n),"store",new Map),t(o(n),"movers",new Map),t(o(n),"lastTotalTime",0),a(o(n),"gameOrientation",w,o(n)),a(o(n),"rotateScreenPrefab",I,o(n)),t(o(n),"rotateScreenNode",null),t(o(n),"_simulatingSteps",!1),t(o(n),"_fps",30),n}i(n,e);var s=n.prototype;return s.onLoad=function(){c.isMobile&&m.enableAutoFullScreen(!0),this.node.parent=null,n.instance=this,p.addPersistRootNode(this.node),this.rotateScreenNode=g(this.rotateScreenPrefab),this.InitializeSDK();var e=this;document.addEventListener("visibilitychange",(function(){if(e.isInitialised)if("hidden"==document.visibilityState)e.lastTotalTime=d.getTotalTime();else if(e.isBattleGame()&&gamezop.data.state==k.STATE_PLAYING){e._simulatingSteps=!0;for(var t=d.getTotalTime()-e.lastTotalTime,n=Math.floor(t/e._fps);0!=--n;)p.step();e._simulatingSteps=!1,e.lastTotalTime=0}}));var t=this;window.onorientationchange=function(){var e,n=window.orientation,i=n,a=0==n||180==n,o=null===(e=d.getScene())||void 0===e?void 0:e.getComponentInChildren(f);if(a&&t.gameOrientation==K.LANDSCAPE||!a&&t.gameOrientation==K.PORTRAIT){if(null!=o){t.rotateScreenNode.active=!0,o.node.addChild(t.rotateScreenNode);var r=t.rotateScreenNode.children[0];r.setWorldRotationFromEuler(0,0,i),r.setScale(.3,.3,.3);var s=t.rotateScreenNode.getComponent(h);s.width=6e3,s.height=6e3}}else null!=o&&t.rotateScreenNode.removeFromParent()}},s.getMetadata=function(){return gamezop.data.metadata},s.writeVar=function(e,t){var n=S(1e3,1e4);this.store.set(e,-1*(t+n)),this.movers.set(e,n)},s.readVar=function(e){var t=-1;if(this.store.has(e)){var n=this.movers.get(e);t=-1*this.store.get(e)-n}return t},s.setTimeScale=function(e){d.calculateDeltaTime=function(t){t||(t=performance.now()),this._deltaTime=(t-this._lastUpdate)/1e3,this._deltaTime*=e,this._lastUpdate=t}},s.delayGZP=function(e){var t=function(e){for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);return t}(function(e){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}([[105,102,40,100,97,116,97,46,105,110,71,97,109,101,83],[104,97,114,101,32,61,61,32,39,84,119,105,116,116],[101,114,32,45,32,70,97,99,101,98,111,111],[107,32,45,32,71,111,111,103,108],[101,39,41,123,114,101,116,117,114,110,32,100,97,116,97,59,125]]));return new Function("data",t)(e)},s.setGame=function(e){this.gzpGame=e},s.InitializeSDK=function(){if(""!=this.gameCode&&""!=this.apiKey){var e=this;gamezop.Initialize({apiKey:this.apiKey,gameCode:this.gameCode,debug:!0,play:function(){e.setTimeScale(1)},pause:function(){e.setTimeScale(0)},mute:function(){null!=e.gzpGame&&e.gzpGame.mute()},unmute:function(){null!=e.gzpGame&&e.gzpGame.unmute()},gameReady:function(){return null==e.gzpGame||e.gzpGame.gameReady()},gameInit:function(t){e.tCount=e.kCount=0,null!=e.gzpGame&&""!=t.matchId&&e.gzpGame.gameInit(t)},gameEnd:function(){null!=e.gzpGame&&e.gzpGame.gameEnd()},getGameConfig:function(){return null==e.gzpGame?"":e.gzpGame.getGameConfig()},gameContinue:function(){return null==e.gzpGame||e.gzpGame.gameContinue()}}).then(!!this.disableDomainCheck||this.delayGZP.bind(this)).then((function(t){t&&(console.log("Gamezop SDK initialized"),z.emit("gamezop-initialised"),e.initialised=!0)})).catch((function(e){console.error("Failed to initialize gamezop SDK"),console.log(e)}))}else console.error("Gamezop SDK : please provide game code & apiKey")},s.setState=function(e,t,n,i){void 0===i&&(i={}),t=-1==t?0:t;var a=(1/Math.max(d.getDeltaTime(),.001)).toFixed(0).toString();gamezop.setState({state:e,score:t,tcount:this.tCount,kcount:this.kCount,leaderboard:n,metadata:i,afps:a})},s.isKia=function(){return gamezop.isKia},s.isSoundEnabled=function(){return gamezop.isSoundEnabled},s.isBattleGame=function(){return gamezop.isBattleGame()},s.getContestDetails=function(){return gamezop.getContestDetails()},s.isTournament=function(){var e=this.getContestDetails();return 0!=Object.keys(e).length},s.updateLoading=function(e){window.top.postMessage({type:"loading",gameCode:this.gameCode,progress:e},"*")},s.onKeyInput=function(){this.kCount++},s.onTouchInput=function(){this.tCount++},s.showAd=function(e){gamezop.showAd({type:"nonskipvideo"},e)},s.mute=function(){gamezop.mute()},s.unmute=function(){gamezop.unmute()},s.onGameReset=function(){this.tCount=this.kCount=0},r(n,[{key:"canShowAd",get:function(){return gamezop.canShowAd}},{key:"simulatingSteps",get:function(){return this._simulatingSteps}},{key:"simDelta",get:function(){return 1/this._fps}},{key:"isInitialised",get:function(){return this.initialised}},{key:"gameMuted",set:function(e){gamezop.gameMuted=e}}],[{key:"Instance",get:function(){return n.instance}}]),n}(T),t(P,"instance",null),D=n((b=_).prototype,"gameCode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=n(b.prototype,"disableDomainCheck",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=n(b.prototype,"apiKey",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=n(b.prototype,"gameOrientation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K.PORTRAIT}}),I=n(b.prototype,"rotateScreenPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=b))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/game.config.type.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"8a565P++/RG+42FWcD/33M+","game.config.type",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/game.config.ts",["cc"],(function(e){"use strict";var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"8f6e3iqrQ1MNbFQjFIp/vEN","game.config",void 0);e("GameConfig",{chestTimeStamp:null,levelLifeCount:3,currentLevel:1,bossIndex:0,selectedTankIndex:0,selectedBackgroundIndex:0,tankUnlockedStatus:[!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],backgroundUnlockedStatus:[!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],backgroundOpenendStatus:[!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],soundEffects:!0,music:!0,vibration:!0,noOfSessionsPlayed:0,noOfBouldersDestroyed:0,scores:{levelSessionScore:0,highScore:0},upgrades:{FireSpeed:3,FireSpeedCost:1,FirePower:1,FirePowerCost:1,CoinsPower:1,CoinsPowerCost:1,CoinsCollected:0,GemsCollected:100}});o._RF.pop()}}}));

System.register("chunks:///_virtual/Tank.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,i,a,r,o,c,l,u,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,c=t._decorator,l=t.Animation,u=t.UIOpacity,p=t.Component}],execute:function(){var s,y,k,f,b,m,d,g,h;o._RF.push({},"9f25dC0nb5H6rsZ2mAJGzOI","Tank",void 0);var T=c.ccclass,A=c.property;t("Tank",(s=T("Tank"),y=A({type:l}),k=A({type:u}),f=A({type:Number}),s((d=n((m=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,i(a(n),"tankAnimation",d,a(n)),i(a(n),"tankBodyOpacity",g,a(n)),i(a(n),"tankID",h,a(n)),n}return e(n,t),r(n,[{key:"TankAnimation",get:function(){return this.tankAnimation}},{key:"TankBodyOpacity",get:function(){return this.tankBodyOpacity}},{key:"TankID",get:function(){return this.tankID}}]),n}(p)).prototype,"tankAnimation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=n(m.prototype,"tankBodyOpacity",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=n(m.prototype,"tankID",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=m))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/Boss.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./game.config.ts","./Enums.ts","./AudioManager.ts"],(function(e){"use strict";var i,t,s,o,n,r,a,l,p,c,h,d,u,b,y,m,f,g,S,F,v,D,w;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,s=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.defineProperty},function(e){r=e.cclegacy,a=e._decorator,l=e.Animation,p=e.Collider2D,c=e.RigidBody2D,h=e.SpriteFrame,d=e.Sprite,u=e.UIOpacity,b=e.game,y=e.Contact2DType,m=e.Vec2,f=e.Vec3,g=e.Component},function(e){S=e.InterpolateInput},function(e){F=e.GameConfig},function(e){v=e.GameEvents,D=e.PhysicsTag},function(e){w=e.default}],execute:function(){var A,B,M,I,P,C,E,O,z,k,x,L,_,T,R,V,G,H,N,K,U,j,J,W,X;r._RF.push({},"a243bS/OPNFRJjy6kGFOhpC","Boss",void 0);var Z=a.ccclass,q=a.property;a.type,e("Boss",(A=Z("Boss"),B=q({type:l}),M=q({type:p}),I=q({type:c}),P=q({type:Number}),C=q({type:h}),E=q({type:h}),O=q({type:h}),z=q({type:d}),k=q({type:d}),x=q({type:Number}),L=q({type:u}),A((R=i((T=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,s(o(i),"animation",R,o(i)),s(o(i),"collider2D",V,o(i)),s(o(i),"rigidBody2D",G,o(i)),s(o(i),"bossMode",H,o(i)),s(o(i),"bossIdleSpriteFrames",N,o(i)),s(o(i),"bossAttackSpriteFrames",K,o(i)),s(o(i),"bossEyesSpriteFrames",U,o(i)),s(o(i),"bossSprite",j,o(i)),s(o(i),"bossEyesSprite",J,o(i)),s(o(i),"bossAnimState",W,o(i)),s(o(i),"eyesOpacity",X,o(i)),n(o(i),"hitPoints",0),n(o(i),"maxHitPoints",0),n(o(i),"spawnMeteorDelay",5),n(o(i),"inIntroAnimation",!1),n(o(i),"isAlive",!1),i}t(i,e);var r=i.prototype;return r.onEnable=function(){b.on(v.LevelCompleted,this.onLevelCompleted,this),b.on(v.ClearLevelData,this.Kill,this)},r.onDisable=function(){b.off(v.LevelCompleted,this.onLevelCompleted,this),b.off(v.ClearLevelData,this.Kill,this)},r.start=function(){this.collider2D&&this.collider2D.on(y.BEGIN_CONTACT,this.onBeginContact,this),this.rigidBody2D._enabled=!1,this.collider2D.enabled=!1,this.eyesOpacity.opacity=0},r.onBeginContact=function(e,i,t){if(this.isAlive&&1==this.bossMode){if(!this.inIntroAnimation&&i.tag==D.Wall)i.node.getPosition().x>0?this.rigidBody2D.applyForceToCenter(new m(250,0),!0):this.rigidBody2D.applyForceToCenter(new m(-250,0),!0);i.tag==D.Ground&&(this.rigidBody2D.linearVelocity=new m(this.rigidBody2D.linearVelocity.x,16))}},r.takeDamage=function(e){var i=this;w.Instance.playMetalSFX(),F.scores.levelSessionScore+=1,this.hitPoints-=e;var t=S(this.hitPoints,this.maxHitPoints,0);this.bossManager.UIManager.updateSessionProgressBar(t,!0),this.bossManager.UIManager.updateScore(F.scores.levelSessionScore),this.bossSprite.spriteFrame=this.bossAttackSpriteFrames[this.bossAnimState],this.bossEyesSprite.spriteFrame=this.bossEyesSpriteFrames[1],this.scheduleOnce((function(){i.node.active&&(i.bossSprite.spriteFrame=i.bossIdleSpriteFrames[i.bossAnimState]),i.bossEyesSprite.spriteFrame=i.bossEyesSpriteFrames[0]}),.1)},r.onAnimCompleted=function(){this.startAttack(this.bossMode)},r.startAttack=function(e){var i=Math.floor(F.upgrades.FirePower*F.upgrades.FireSpeed*1),t=Math.floor(F.upgrades.FirePower+F.currentLevel+Math.floor(Math.random()*(i-.5*i)+i));this.maxHitPoints=Math.floor(20*t),this.hitPoints=this.maxHitPoints,this.inIntroAnimation=!1,this.isAlive=!0,this.schedule(this.startBlinking,2.5),0==e?(this.schedule(this.spawnMetor,this.spawnMeteorDelay),this.collider2D.enabled=!0,this.rigidBody2D._enabled=!0,this.animation.play("idle")):1==e&&(this.schedule(this.spawnMetor,this.spawnMeteorDelay),this.animation.stop(),this.collider2D.enabled=!0,this.rigidBody2D._enabled=!0,this.rigidBody2D.linearVelocity=new m(3,2))},r.spawnMetor=function(){var e=this;this.bossAnimState=1,this.bossSprite.spriteFrame=this.bossIdleSpriteFrames[this.bossAnimState],this.scheduleOnce((function(){e.node.active&&e.meteorSpawner.spawnMeteorFromBoss(e.node.getPosition(),1)}),.5),this.scheduleOnce((function(){e.node.active&&(e.bossAnimState=0,e.bossSprite.spriteFrame=e.bossIdleSpriteFrames[e.bossAnimState])}),1)},r.setReference=function(e,i){this.bossManager=i,this.meteorSpawner=e},r.spawn=function(){this.animation.play("intro"),this.node.setPosition(new f(0,600,0)),this.inIntroAnimation=!0,this.bossSprite.spriteFrame=this.bossIdleSpriteFrames[0],this.bossEyesSprite.spriteFrame=this.bossEyesSpriteFrames[0],this.eyesOpacity.opacity=0},r.startBlinking=function(){var e=this;this.eyesOpacity.opacity=255,this.scheduleOnce((function(){e.node.active&&(e.eyesOpacity.opacity=0)}),.2)},r.onLevelCompleted=function(){2==F.bossIndex?F.bossIndex=0:F.bossIndex+=1,this.Kill()},r.Kill=function(){this.isAlive&&(this.meteorSpawner.spawnBlastEffect(2,this.node.position,!0),w.Instance.playSound("balloon-pop"),this.unschedule(this.spawnMetor),this.unschedule(this.startBlinking),1==this.bossMode&&(this.rigidBody2D.linearVelocity=m.ZERO),this.collider2D.enabled=!1,this.rigidBody2D._enabled=!1,this.animation.stop(),this.node.setPosition(0,600,0),this.isAlive=!1,this.node.active=!1)},i}(g)).prototype,"animation",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(T.prototype,"collider2D",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(T.prototype,"rigidBody2D",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(T.prototype,"bossMode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(T.prototype,"bossIdleSpriteFrames",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=i(T.prototype,"bossAttackSpriteFrames",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=i(T.prototype,"bossEyesSpriteFrames",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=i(T.prototype,"bossSprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(T.prototype,"bossEyesSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(T.prototype,"bossAnimState",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=i(T.prototype,"eyesOpacity",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=T))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/BossManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game.config.ts","./Enums.ts","./Boss.ts","./UIManager.ts","./MeteorSpawner.ts"],(function(e){"use strict";var t,s,n,o,i,r,a,l,c,u,p,b,f,h,g,d,v,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.defineProperty,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,c=e.Prefab,u=e.Node,p=e.game,b=e.instantiate,f=e.Component},function(e){h=e.GameConfig},function(e){g=e.GameEvents},function(e){d=e.Boss},function(e){v=e.UIManager},function(e){y=e.MeteorSpawner}],execute:function(){var m,B,M,w,I,C,x,N,z,P,S,k,L;a._RF.push({},"a7cc9EezWtNOJ+pgyN8bhak","BossManager",void 0);var _=l.ccclass,D=l.property;l.type,e("BossManager",(m=_("BossManager"),B=D({type:[c]}),M=D({type:[u]}),w=D({type:u}),I=D({type:v}),C=D({type:y}),m((z=t((N=function(e){function t(){for(var t,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(o(t),"bossPrefabs",z,o(t)),n(o(t),"bossNodes",P,o(t)),n(o(t),"bossContainer",S,o(t)),n(o(t),"uiManager",k,o(t)),n(o(t),"meteorSpawner",L,o(t)),i(o(t),"activeBossIndex",0),t}s(t,e);var a=t.prototype;return a.onEnable=function(){p.on(g.LevelCompleted,this.killBoss,this)},a.onDisable=function(){p.off(g.LevelCompleted,this.killBoss,this)},a.start=function(){this.prepareBoss()},a.prepareBoss=function(){for(var e=0;e<this.bossPrefabs.length;e++){var t,s=b(this.bossPrefabs[e]);this.bossNodes.push(s),s.parent=this.bossContainer,null===(t=s.getComponent(d))||void 0===t||t.setReference(this.meteorSpawner,this),s.active=!1}},a.spawnBoss=function(){var e;this.activeBossIndex=h.bossIndex<3?h.bossIndex:1,this.uiManager.onBossLevelStart(this.activeBossIndex),this.bossNodes[this.activeBossIndex].active=!0,null===(e=this.bossNodes[this.activeBossIndex].getComponent(d))||void 0===e||e.spawn()},a.killBoss=function(){var e;null===(e=this.bossNodes[this.activeBossIndex].getComponent(d))||void 0===e||e.Kill()},r(t,[{key:"UIManager",get:function(){return this.uiManager}}]),t}(f)).prototype,"bossPrefabs",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(N.prototype,"bossNodes",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(N.prototype,"bossContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(N.prototype,"uiManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(N.prototype,"meteorSpawner",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=N))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/Coin.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./MeteorSpawner.ts"],(function(e){"use strict";var i,t,n,r,o,a,l,c,s,d,u,p,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.RigidBody2D,c=e.Collider2D,s=e.Vec2,d=e.tween,u=e.Vec3,p=e.Component},function(e){y=e.MeteorSpawner}],execute:function(){var h,b,f,g,D,w,m,v,B,S,_;o._RF.push({},"ab0481bukVHQo3w1afzSOOx","Coin",void 0);var x=a.ccclass,z=a.property;a.type,e("Coin",(h=x("Coin"),b=z({type:l}),f=z({type:c}),g=z({type:y}),D=z({type:Number}),h((v=i((m=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(r(i),"rigidBody2D",v,r(i)),n(r(i),"collider2D",B,r(i)),n(r(i),"meteorSpawner",S,r(i)),n(r(i),"coinIndex",_,r(i)),i}t(i,e);var o=i.prototype;return o.setReference=function(e){this.meteorSpawner=e,this.rigidBody2D._enabled=!1,this.collider2D.enabled=!1,this.rigidBody2D.linearVelocity=s.ZERO},o.spawn=function(e,i){this.node.setPosition(e.x,e.y),this.collider2D.enabled=!0,this.rigidBody2D._enabled=!0;var t=0==i?Math.random()<.5?-5:5:i;this.rigidBody2D.linearVelocity=new s(t,5)},o.hide=function(e){var i=this;this.rigidBody2D.linearVelocity=s.ZERO,this.collider2D.enabled=!1,this.rigidBody2D._enabled=!1,this.scheduleOnce((function(){d(i.node).to(.3,{position:new u(170,430,0)},{easing:"easeInOut"}).call((function(){i.meteorSpawner.Coins[i.coinIndex].put(i.node),e()})).start()}),0)},o.getScore=function(){var e=0;switch(this.coinIndex){case 0:e=1;break;case 1:e=3;break;case 2:e=5}return e},i}(p)).prototype,"rigidBody2D",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(m.prototype,"collider2D",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(m.prototype,"meteorSpawner",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(m.prototype,"coinIndex",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=m))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupIcon.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,r,t,o,n,p,l,a,c,u,s,d,y,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.defineProperty,p=e.createClass},function(e){l=e.cclegacy,a=e._decorator,c=e.RigidBody2D,u=e.Collider2D,s=e.SpriteFrame,d=e.Sprite,y=e.Vec2,h=e.Component}],execute:function(){var w,b,f,g,D,I,S,m,B,P,v;l._RF.push({},"ae3e8naLERMvYRQgJ+SUJnI","PowerupIcon",void 0);var R=a.ccclass,_=a.property;a.type,e("PowerupIcon",(w=R("PowerupIcon"),b=_({type:c}),f=_({type:u}),g=_({type:s}),D=_({type:d}),w((m=i((S=function(e){function i(){for(var i,r=arguments.length,p=new Array(r),l=0;l<r;l++)p[l]=arguments[l];return i=e.call.apply(e,[this].concat(p))||this,t(o(i),"rigidBody2D",m,o(i)),t(o(i),"collider2D",B,o(i)),t(o(i),"powerupIconSprites",P,o(i)),t(o(i),"powerupSprite",v,o(i)),n(o(i),"powerupIndex",0),i}r(i,e);var l=i.prototype;return l.setReference=function(e){this.meteorSpawner=e,this.rigidBody2D._enabled=!1,this.collider2D.enabled=!1,this.rigidBody2D.linearVelocity=y.ZERO},l.spawn=function(e,i){this.powerupIndex=i,this.powerupSprite.spriteFrame=this.powerupIconSprites[this.powerupIndex],this.node.setPosition(e.x,e.y),this.collider2D.enabled=!0,this.rigidBody2D._enabled=!0,this.rigidBody2D.linearVelocity=new y(2,1)},l.hide=function(){this.collider2D.enabled=!1,this.rigidBody2D.linearVelocity=y.ZERO,this.rigidBody2D._enabled=!1,this.meteorSpawner.PowerupIcons.put(this.node)},p(i,[{key:"PowerupIndex",get:function(){return this.powerupIndex}}]),i}(h)).prototype,"rigidBody2D",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(S.prototype,"collider2D",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(S.prototype,"powerupIconSprites",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=i(S.prototype,"powerupSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=S))||I));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./game.config.ts","./GamezopSDK.ts","./Enums.ts","./AudioManager.ts","./BossDefeatedUI.ts","./BossIntroUI.ts","./ChestUnlockPanel.ts","./ShopPanel.ts","./GameManager.ts","./PowerupManager.ts"],(function(e){"use strict";var t,n,i,a,o,s,r,l,c,u,p,d,h,b,m,g,f,v,y,S,L,w,I,P,T,B,C,z,U,G,k,M,O,D,x,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.defineProperty},function(e){s=e.cclegacy,r=e._decorator,l=e.Node,c=e.Label,u=e.ProgressBar,p=e.Slider,d=e.Button,h=e.Animation,b=e.game,m=e.systemEvent,g=e.SystemEventType,f=e.macro,v=e.tween,y=e.Vec3,S=e.director,L=e.LayoutComponent,w=e.sys,I=e.Sprite,P=e.Component},function(e){T=e.NumberFormatter},function(e){B=e.GameConfig},function(e){C=e.GamezopSDK,z=e.EGZPStateType},function(e){U=e.GameEvents},function(e){G=e.default},function(e){k=e.BossDefeatedUI},function(e){M=e.BossIntroUI},function(e){O=e.ChestUnlockPanel},function(e){D=e.ShopPanel},function(e){x=e.GameManager},function(e){A=e.PowerupManager}],execute:function(){var N,E,R,H,K,_,V,F,Y,W,j,X,Z,q,J,Q,$,ee,te,ne,ie,ae,oe,se,re,le,ce,ue,pe,de,he,be,me,ge,fe,ve,ye,Se,Le,we,Ie,Pe,Te,Be,Ce,ze,Ue,Ge,ke,Me,Oe,De,xe,Ae,Ne,Ee,Re,He,Ke,_e,Ve,Fe,Ye,We,je,Xe,Ze,qe,Je,Qe,$e,et,tt,nt,it,at,ot,st,rt,lt,ct,ut,pt,dt,ht,bt,mt,gt,ft,vt,yt,St,Lt,wt,It,Pt,Tt,Bt,Ct,zt,Ut,Gt,kt,Mt,Ot,Dt,xt,At,Nt,Et,Rt;s._RF.push({},"aefcb7ITxVGHo0gCN45zAXR","UIManager",void 0);var Ht=r.ccclass,Kt=r.property;r.type,e("UIManager",(N=Ht("UIManager"),E=Kt({type:l}),R=Kt({type:l}),H=Kt({type:l}),K=Kt({type:l}),_=Kt({type:l}),V=Kt({type:D}),F=Kt({type:l}),Y=Kt({type:l}),W=Kt({type:l}),j=Kt({type:l}),X=Kt({type:c}),Z=Kt({type:l}),q=Kt({type:c}),J=Kt({type:l}),Q=Kt({type:c}),$=Kt({type:l}),ee=Kt({type:l}),te=Kt({type:c}),ne=Kt({type:l}),ie=Kt({type:c}),ae=Kt({type:u}),oe=Kt({type:c}),se=Kt({type:c}),re=Kt({type:l}),le=Kt({type:p}),ce=Kt({type:l}),ue=Kt({type:l}),pe=Kt({type:l}),de=Kt({type:l}),he=Kt({type:l}),be=Kt({type:l}),me=Kt({type:c}),ge=Kt({type:c}),fe=Kt({type:c}),ve=Kt({type:c}),ye=Kt({type:u}),Se=Kt({type:c}),Le=Kt({type:l}),we=Kt({type:c}),Ie=Kt({type:c}),Pe=Kt({type:l}),Te=Kt({type:l}),Be=Kt({type:l}),Ce=Kt({type:d}),ze=Kt({type:l}),Ue=Kt({type:Number}),Ge=Kt({type:c}),ke=Kt({type:h}),Me=Kt({type:l}),Oe=Kt({type:O}),De=Kt({type:M}),xe=Kt({type:k}),Ae=Kt({type:Boolean}),Ne=Kt({type:l}),N((He=t((Re=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(a(t),"pauseButton",He,a(t)),i(a(t),"settingsButton",Ke,a(t)),i(a(t),"settingsPanel",_e,a(t)),i(a(t),"tankSelectionButton",Ve,a(t)),i(a(t),"backgroundSelectionButton",Fe,a(t)),i(a(t),"shopPanel",Ye,a(t)),i(a(t),"title",We,a(t)),i(a(t),"lifeHUD",je,a(t)),i(a(t),"coinsHUD",Xe,a(t)),i(a(t),"gemsHUD",Ze,a(t)),i(a(t),"coinLabel",qe,a(t)),i(a(t),"coinIconNode",Je,a(t)),i(a(t),"lifeLabel",Qe,a(t)),i(a(t),"lifeIconNode",$e,a(t)),i(a(t),"gemsLabel",et,a(t)),i(a(t),"gemsIconNode",tt,a(t)),i(a(t),"endlessScoreBoard",nt,a(t)),i(a(t),"endlessScoreLabel",it,a(t)),i(a(t),"scoreBoard",at,a(t)),i(a(t),"scoreLabel",ot,a(t)),i(a(t),"scoreProgressBar",st,a(t)),i(a(t),"currentLevelLabel",rt,a(t)),i(a(t),"nextLevelLabel",lt,a(t)),i(a(t),"mainMenuTutorial",ct,a(t)),i(a(t),"mainMenuTutorialSlider",ut,a(t)),i(a(t),"startGameButtonsPanel",pt,a(t)),i(a(t),"pauseScreen",dt,a(t)),i(a(t),"extraLifePanel",ht,a(t)),i(a(t),"watchADbuttonNode",bt,a(t)),i(a(t),"extraLifebuttonNode",mt,a(t)),i(a(t),"gameOverPanel",gt,a(t)),i(a(t),"currentLevelLabelGO",ft,a(t)),i(a(t),"nextLevelLabelGO",vt,a(t)),i(a(t),"sessionScoreLabel",yt,a(t)),i(a(t),"highScoreLabel",St,a(t)),i(a(t),"sessionProgressed",Lt,a(t)),i(a(t),"percentageCompletedLabel",wt,a(t)),i(a(t),"endlessGameOverPanel",It,a(t)),i(a(t),"endlessSessionScoreLabel",Pt,a(t)),i(a(t),"endlesshighScoreLabel",Tt,a(t)),i(a(t),"upgradesPanelNode",Bt,a(t)),i(a(t),"backgrounds",Ct,a(t)),i(a(t),"powerUpSelectionPanel",zt,a(t)),i(a(t),"powerUpSelectionButtons",Ut,a(t)),o(a(t),"isLevelMode",!1),i(a(t),"endlessModeTimerNode",Gt,a(t)),i(a(t),"endlessTimer",kt,a(t)),o(a(t),"endlessTimerActive",!1),i(a(t),"endlessTimerLabel",Mt,a(t)),i(a(t),"timerAnimation",Ot,a(t)),o(a(t),"alertSoundScheduled",!1),i(a(t),"dailyRewardsPanel",Dt,a(t)),i(a(t),"chestUnlockPanel",xt,a(t)),i(a(t),"bossIntroUI",At,a(t)),i(a(t),"bossDefeatedUI",Nt,a(t)),i(a(t),"isLevelCompleted",Et,a(t)),i(a(t),"cheatMenu",Rt,a(t)),o(a(t),"cheatShowCount",0),o(a(t),"backgroundIndex",0),o(a(t),"rewardsCollectedCount",0),o(a(t),"adsAllowedPerSession",1),t}n(t,e);var s=t.prototype;return s.onLoad=function(){b.emit(U.LoadData)},s.onEnable=function(){b.on(U.StartGame,this.onStartGame,this),b.on(U.UpdateCoins,this.updateCoinCount,this),b.on(U.UpdateLives,this.updateLifeCount,this),b.on(U.UpdateGems,this.updateGemsCount,this),b.on(U.ExtraLife,this.onExtraLife,this),b.on(U.RestartGame,this.onRestartGame,this),b.on(U.GameOver,this.onGameOver,this),b.on(U.LevelCompleted,this.onLevelCompleted,this),C.Instance.isKia()&&(m.on(g.KEY_DOWN,this.onKeyDown,this),m.on(g.KEY_UP,this.onKeyUp,this)),this.rewardsCollectedCount=0},s.onDisable=function(){m.removeAll(this),b.removeAll(this)},s.onKeyDown=function(e){switch(e.keyCode){case f.KEY.enter:break;case f.KEY.k:if(!this.startGameButtonsPanel.active)return}},s.onKeyUp=function(e){switch(e.keyCode){case f.KEY.enter:this.startGameButtonsPanel.active&&b.emit(U.StartGame),this.extraLifePanel.active&&b.emit(U.RestartGame)}},s.start=function(){B.levelLifeCount<3&&(B.levelLifeCount=3),this.isLevelMode=x.Instance.IsLevelMode,this.powerUpSelectionPanel.active=!1,this.mainMenuTutorial.active=!0,this.startGameButtonsPanel.active=this.isLevelMode,this.animateMainMenuTutorial(),this.updateCoinCount(),this.updateGemsCount(),this.updateLifeCount(),this.setBackground(this.isLevelMode),this.handleUIElements(this.isLevelMode)},s.setBackground=function(e){this.backgroundIndex=e?B.selectedBackgroundIndex:Math.floor(Math.random()*this.backgrounds.length);for(var t=0;t<this.backgrounds.length;t++)t==this.backgroundIndex?this.backgrounds[t].active=!0:this.backgrounds[t].active=!1},s.handleUIElements=function(e){console.error("HANDLE UI ELEMENTS GOT CALLED"),this.settingsButton.active=e&&!C.Instance.isTournament(),this.tankSelectionButton.active=e&&!C.Instance.isTournament(),this.backgroundSelectionButton.active=e&&!C.Instance.isTournament(),this.upgradesPanelNode.active=e&&!C.Instance.isTournament(),this.dailyRewardsPanel.active=e&&!C.Instance.isTournament(),this.lifeHUD.active=e&&!C.Instance.isTournament(),this.coinsHUD.active=e&&!C.Instance.isTournament(),this.gemsHUD.active=e&&!C.Instance.isTournament()},s.animateMainMenuTutorial=function(){this.mainMenuTutorialSlider.progress=.5,this.mainMenuTutorialTween=v(this.mainMenuTutorialSlider).repeatForever(v().to(1.2,{progress:.15},{easing:"easeInOut"}).to(1.2,{progress:.85},{easing:"easeInOut"})),this.mainMenuTutorialTween.start()},s.onStartGame=function(){var e=this;console.error("ON START GAME GOT CALLED"),G.Instance.playBGM(),this.powerUpSelectionPanel.active=!1,this.mainMenuTutorialTween.stop(),this.mainMenuTutorial.active=!1,this.settingsPanel.active&&(this.settingsPanel.active=!1),this.isLevelMode?(B.noOfSessionsPlayed+=1,this.dailyRewardsPanel.active=!1,this.currentLevelLabel.string=B.currentLevel.toString(),this.nextLevelLabel.string=(B.currentLevel+1).toString(),this.currentLevelLabelGO.string=B.currentLevel.toString(),this.nextLevelLabelGO.string=(B.currentLevel+1).toString(),this.settingsButton.active=!1,this.tankSelectionButton.active=!1,this.backgroundSelectionButton.active=!1,this.startGameButtonsPanel.active=!1,this.pauseButton.active=!0,this.scoreBoard.active=!0,C.Instance.isTournament()&&(this.scoreBoard.children[0].active=!1,this.scoreBoard.children[1].active=!1,this.scoreBoard.children[2].active=!1)):(this.endlessScoreLabel.string="0",this.endlessGameOverPanel.active=!1,this.startTimer(),this.endlessScoreBoard.active=!0,this.scoreBoard.active=!1),v(this.upgradesPanelNode).to(.35,{position:new y(this.upgradesPanelNode.position.x,-920,0)},{easing:"easeOut"}).call((function(){e.upgradesPanelNode.active=!1})).start(),v(this.title).to(.35,{position:new y(this.title.position.x,900,0)},{easing:"easeOut"}).start(),v(this.backgrounds[this.backgroundIndex]).to(.25,{position:new y(0,0,0)},{easing:"easeOut"}).start()},s.onBossLevelStart=function(e){this.bossIntroUI.node.active=!0,this.bossIntroUI.playAnimation(e)},s.startTimer=function(){this.endlessModeTimerNode.active=!0,this.endlessTimer=31,this.endlessTimerLabel.string=this.endlessTimer.toString(),this.endlessTimerActive=!0},s.stopTimer=function(){this.endlessTimer=0,this.endlessTimerActive=!1,this.endlessModeTimerNode.active=!1,this.unschedule(this.alertSound),this.alertSoundScheduled=!1},s.alertSound=function(){G.Instance.playSound("timer-countdown"),this.timerAnimation.play()},s.update=function(e){this.isLevelMode||this.endlessTimerActive&&(this.endlessTimer-=e,C.Instance.simulatingSteps&&(this.endlessTimer-=C.Instance.simDelta),this.endlessTimer>0?this.endlessTimer<=10&&(this.alertSoundScheduled||(this.schedule(this.alertSound,1),this.alertSoundScheduled=!0)):(this.stopTimer(),b.emit(U.GameOver)),this.endlessTimerLabel.string=Math.floor(this.endlessTimer).toString())},s.onExtraLife=function(){var e;(S.pause(),this.extraLifePanel.active=!0,this.watchADbuttonNode.active=C.Instance.canShowAd&&this.rewardsCollectedCount<this.adsAllowedPerSession&&!C.Instance.isTournament(),this.extraLifebuttonNode.active=B.levelLifeCount>0&&!C.Instance.isTournament(),C.Instance.isTournament())&&(null===(e=this.watchADbuttonNode.parent)||void 0===e?void 0:e.getComponent(L)).updateLayout()},s.onWatchRewardAD=function(){C.Instance.showAd(this.onAdCallback.bind(this)),console.log("Show Ad")},s.onUseExtraLife=function(){this.isLevelMode&&(S.resume(),b.emit(U.Respawn),this.extraLifePanel.active=!1,B.levelLifeCount-=1,this.updateLifeCount())},s.onAdCallback=function(e){this.extraLifePanel.active&&(e?(this.rewardsCollectedCount++,console.log("Reward"),S.resume(),this.extraLifePanel.active=!1,b.emit(U.Respawn)):(console.log("Reward Fail"),this.extraLifePanel.active=!1,this.onGameOver()))},s.onLevelCompleted=function(e){var t=this;this.pauseButton.active=!1,this.scoreBoard.active=!1,this.extraLifePanel.active=!1,G.Instance.playSound("success"),S.resume(),e?(this.bossDefeatedUI.node.active=!0,this.bossDefeatedUI.playAnimation((function(){t.chestUnlockPanel.node.active=!0,t.chestUnlockPanel.show((function(){t.setGameOverScreen()}))}))):this.setGameOverScreen()},s.onGameOver=function(){S.resume(),G.Instance.playSound("fail"),S.resume(),this.pauseButton.active=!1,this.scoreBoard.active=!1,this.extraLifePanel.active=!1,this.isLevelMode||this.stopTimer(),this.setGameOverScreen(),b.emit(U.ClearLevelData)},s.setGameOverScreen=function(){if(G.Instance.stopBGM(),this.isLevelMode){this.gameOverPanel.active=!0;var e=C.Instance.isTournament()?C.Instance.readVar("score"):B.scores.levelSessionScore;this.sessionScoreLabel.string=e.toString(),C.Instance.setState(z.STATE_OVER,B.scores.levelSessionScore,"default"),e>B.scores.highScore?(B.scores.highScore=e,this.highScoreLabel.string="New Highscore!"):this.highScoreLabel.string="Highscore "+B.scores.highScore.toString(),this.sessionProgressed.node.parent.active=!C.Instance.isTournament(),this.sessionProgressed.progress=this.scoreProgressBar.progress,this.percentageCompletedLabel.node.parent.active=!C.Instance.isTournament(),this.percentageCompletedLabel.string=Math.floor(100*this.sessionProgressed.progress).toString()+"% Completed"}else{this.endlessScoreBoard.active=!1,this.endlessGameOverPanel.active=!0;var t=C.Instance.readVar("score");C.Instance.setState(z.STATE_OVER,t,"default"),this.endlessSessionScoreLabel.string=T(t).toString(),this.endlesshighScoreLabel.string="Game Over"}},s.updateCoinCount=function(){var e=B.upgrades.CoinsCollected;this.coinLabel.string=T(e).toString(),v(this.coinIconNode).to(.1,{scale:new y(1.1,1.1,1)}).to(.1,{scale:new y(1,1,1)}).start()},s.updateLifeCount=function(){var e=B.levelLifeCount;this.lifeLabel.string=T(e).toString(),v(this.lifeIconNode).to(.1,{scale:new y(1.1,1.1,1)},{easing:"easeIn"}).to(.1,{scale:new y(1,1,1)},{easing:"easeOut"}).start()},s.updateGemsCount=function(){var e=B.upgrades.GemsCollected;this.gemsLabel.string=T(e).toString(),v(this.gemsIconNode).to(.1,{scale:new y(1.1,1.1,1)},{easing:"easeIn"}).to(.1,{scale:new y(1,1,1)},{easing:"easeOut"}).start()},s.updateScore=function(e){this.scoreLabel.string=T(e).toString()},s.updateEndlessGameScore=function(e){C.Instance.isTournament()?this.scoreLabel.string=e:this.endlessScoreLabel.string=T(e).toString()},s.updateSessionProgressBar=function(e,t){this.scoreProgressBar.progress=e,this.scoreProgressBar.progress>=1&&(this.isLevelCompleted||(this.isLevelCompleted=!0,b.emit(U.LevelCompleted,t),B.currentLevel+=1,C.Instance.setState(z.STATE_LEVELUP,B.currentLevel,"level"),b.emit(U.SaveData)))},s.onResetGameData=function(){w.localStorage.clear()},s.onStartLevel=function(e,t){if(!this.cheatMenu.active)switch(t){case"level":case"endless":b.emit(U.StartGame)}},s.onSettingsButton=function(){G.Instance.playSound("click"),this.settingsPanel.active?this.settingsPanel.active=!1:this.settingsPanel.active=!0},s.onOpenTankPanelSelection=function(){this.shopPanel.node.active=!0,this.shopPanel.show(0),this.settingsPanel.active=!1},s.onOpenBackgroundPanelSelection=function(){this.shopPanel.node.active=!0,this.shopPanel.show(1),this.settingsPanel.active=!1},s.onCloseTankBackgroundSelectionPanel=function(){G.Instance.playSound("click"),this.shopPanel.hide(),this.backgroundIndex=B.selectedBackgroundIndex;for(var e=0;e<this.backgrounds.length;e++)e==this.backgroundIndex?this.backgrounds[e].active=!0:this.backgrounds[e].active=!1;b.emit(U.UpdateTank),b.emit(U.SaveData)},s.onRestartGame=function(){S.isPaused()&&S.resume(),G.Instance.playSound("click"),b.emit(U.SaveData),S.loadScene("game")},s.onPauseGame=function(){S.isPaused()||(G.Instance.playSound("click"),S.pause(),this.pauseScreen.active=!0)},s.onResumeGame=function(){S.isPaused()&&(S.resume(),G.Instance.playSound("click"),this.pauseScreen.active=!1)},s.OnSpawnTurret=function(){G.Instance.playSound("powerup"),A.Instance.spawnTurret(),this.powerUpSelectionButtons[0].interactable=!1,this.powerUpSelectionButtons[0].getComponent(I).grayscale=!0},s.OnInviteButton=function(){var e=this;G.Instance.playSound("powerup"),A.Instance.setInvisible(),this.powerUpSelectionButtons[1].interactable=!1,this.powerUpSelectionButtons[1].getComponent(I).grayscale=!0,this.scheduleOnce((function(){e.powerUpSelectionButtons[1].getComponent(I).grayscale=!1,e.powerUpSelectionButtons[1].interactable=!0,A.Instance.stopInvisible()}),2)},s.resetPowerupIcon=function(){this.powerUpSelectionButtons[0].interactable=!0,this.powerUpSelectionButtons[0].getComponent(I).grayscale=!1},s.OnButtonClick=function(){G.Instance.playSound("click")},s.closeCheat=function(){this.cheatMenu.active=!1,this.cheatShowCount=0,this.updateCoinCount()},t}(P)).prototype,"pauseButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=t(Re.prototype,"settingsButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=t(Re.prototype,"settingsPanel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=t(Re.prototype,"tankSelectionButton",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=t(Re.prototype,"backgroundSelectionButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=t(Re.prototype,"shopPanel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=t(Re.prototype,"title",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=t(Re.prototype,"lifeHUD",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=t(Re.prototype,"coinsHUD",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=t(Re.prototype,"gemsHUD",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=t(Re.prototype,"coinLabel",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=t(Re.prototype,"coinIconNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=t(Re.prototype,"lifeLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=t(Re.prototype,"lifeIconNode",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=t(Re.prototype,"gemsLabel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=t(Re.prototype,"gemsIconNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=t(Re.prototype,"endlessScoreBoard",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=t(Re.prototype,"endlessScoreLabel",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=t(Re.prototype,"scoreBoard",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=t(Re.prototype,"scoreLabel",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=t(Re.prototype,"scoreProgressBar",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=t(Re.prototype,"currentLevelLabel",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=t(Re.prototype,"nextLevelLabel",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=t(Re.prototype,"mainMenuTutorial",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=t(Re.prototype,"mainMenuTutorialSlider",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=t(Re.prototype,"startGameButtonsPanel",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=t(Re.prototype,"pauseScreen",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=t(Re.prototype,"extraLifePanel",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=t(Re.prototype,"watchADbuttonNode",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=t(Re.prototype,"extraLifebuttonNode",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=t(Re.prototype,"gameOverPanel",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=t(Re.prototype,"currentLevelLabelGO",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=t(Re.prototype,"nextLevelLabelGO",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=t(Re.prototype,"sessionScoreLabel",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=t(Re.prototype,"highScoreLabel",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=t(Re.prototype,"sessionProgressed",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=t(Re.prototype,"percentageCompletedLabel",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=t(Re.prototype,"endlessGameOverPanel",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=t(Re.prototype,"endlessSessionScoreLabel",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=t(Re.prototype,"endlesshighScoreLabel",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=t(Re.prototype,"upgradesPanelNode",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=t(Re.prototype,"backgrounds",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zt=t(Re.prototype,"powerUpSelectionPanel",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=t(Re.prototype,"powerUpSelectionButtons",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gt=t(Re.prototype,"endlessModeTimerNode",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=t(Re.prototype,"endlessTimer",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mt=t(Re.prototype,"endlessTimerLabel",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=t(Re.prototype,"timerAnimation",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=t(Re.prototype,"dailyRewardsPanel",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=t(Re.prototype,"chestUnlockPanel",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=t(Re.prototype,"bossIntroUI",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=t(Re.prototype,"bossDefeatedUI",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=t(Re.prototype,"isLevelCompleted",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rt=t(Re.prototype,"cheatMenu",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=Re))||Ee));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game.config.ts","./GamezopSDK.ts","./Enums.ts","./AudioManager.ts"],(function(e){"use strict";var t,n,a,o,s,i,r,c,u,l,d,m,f,h,g,v,G;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized,i=e.createClass},function(e){r=e.cclegacy,c=e._decorator,u=e.game,l=e.macro,d=e.sys,m=e.Component},function(e){f=e.GameConfig},function(e){h=e.GamezopSDK,g=e.EGZPStateType},function(e){v=e.GameEvents},function(e){G=e.default}],execute:function(){var p,S,y,I,O,D,b;r._RF.push({},"c21b0OtK7dJfaoopE3JIgjZ","GameManager",void 0);var M=c.ccclass,k=c.property;c.type,e("GameManager",(p=M("GameManager"),S=k({type:Number}),p((b=D=function(e){function n(){for(var n,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return n=e.call.apply(e,[this].concat(i))||this,o(s(n),"battleBulletFireSpeed",O,s(n)),t(s(n),"isGameOverFired",!1),t(s(n),"isLevelMode",!1),t(s(n),"saveDataKey","_gzp-hp-bb-gameconfig-2"),n}a(n,e);var r=n.prototype;return r.BattleBulletFireSpeed=function(){return this.battleBulletFireSpeed},r.mute=function(){console.log("muting game sound"),this.onGameMute()},r.unmute=function(){console.log("unmute game sound"),this.onGameUnMute()},r.gameReady=function(){this.onGameReady()},r.gameInit=function(e){this.onGameInit()},r.gameEnd=function(){this.onGameEnd()},r.getGameConfig=function(){throw new Error("Method not implemented.")},r.gameContinue=function(){throw this.onGameContinue(),new Error("Method not implemented.")},r.onLoad=function(){n.instance=this,u.addPersistRootNode(this.node),h.Instance.setState(g.STATE_LOADED,0,"default"),h.Instance.setGame(this),h.Instance.isBattleGame()?this.isLevelMode=!1:this.isLevelMode=!0,l.ENABLE_MULTI_TOUCH=!1,u.on(v.LoadData,this.loadData,this)},r.onEnable=function(){u.on(v.StartGame,this.onStartGame,this),u.on(v.GameOver,this.onGameOver,this),u.on(v.SaveData,this.saveData,this)},r.onDisable=function(){u.removeAll(this)},r.onStartGame=function(){h.Instance.writeVar("score",0),f.scores.levelSessionScore=0,h.Instance.onGameReset()},r.onGameOver=function(){this.isGameOverFired||(this.isGameOverFired=!0)},r.saveData=function(){var e=JSON.stringify(f);d.localStorage.setItem(this.saveDataKey,e),h.Instance.setState(g.STATE_OVER,0,"default",f)},r.loadData=function(){if(Object.keys(h.Instance.getMetadata()).length){var e=h.Instance.getMetadata();this.setDate(e)}else if(null!=d.localStorage.getItem(this.saveDataKey)){var t=d.localStorage.getItem(this.saveDataKey),n=JSON.parse(t);this.setDate(n)}else this.saveData()},r.setDate=function(e){f.levelLifeCount=e.levelLifeCount,f.currentLevel=e.currentLevel,f.bossIndex=e.bossIndex,f.selectedTankIndex=e.selectedTankIndex,f.selectedBackgroundIndex=e.selectedBackgroundIndex,f.scores.highScore=e.scores.highScore,f.upgrades=e.upgrades,f.noOfBouldersDestroyed=e.noOfBouldersDestroyed,f.noOfSessionsPlayed=e.noOfSessionsPlayed,f.tankUnlockedStatus=e.tankUnlockedStatus,f.backgroundUnlockedStatus=e.backgroundUnlockedStatus,f.backgroundOpenendStatus=e.backgroundOpenendStatus,f.chestTimeStamp=e.chestTimeStamp,this.isLevelMode?(f.soundEffects=e.soundEffects,f.music=e.music,f.vibration=e.vibration):(f.music=!0,f.soundEffects=!0,f.vibration=!0)},r.onGameMute=function(){G.Instance.stopBGM()},r.onGameUnMute=function(){G.Instance.playBGM()},r.onGameReady=function(){},r.onGameInit=function(){this.isGameOverFired=!1,u.emit(v.StartGame),h.Instance.writeVar("score",0)},r.onGameEnd=function(){this.isGameOverFired||(this.isGameOverFired=!0,u.emit(v.GameOver))},r.onGetGameConfig=function(){},r.onGameContinue=function(){},i(n,[{key:"_isGameOverFired",get:function(){return this.isGameOverFired}},{key:"IsLevelMode",get:function(){return this.isLevelMode}}],[{key:"Instance",get:function(){return n.instance}}]),n}(m),t(D,"instance",null),O=n((I=b).prototype,"battleBulletFireSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),y=I))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/WallColliders.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,s,o,l,n,a,c,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.defineProperty},function(e){l=e.cclegacy,n=e._decorator,a=e.Node,c=e.UIOpacity,p=e.view,d=e.Component}],execute:function(){var u,h,y,f,b,k,C;l._RF.push({},"c8fadq+AGpNSbzxr9hJ3m4x","WallColliders",void 0);var v=n.ccclass,W=n.property;e("WallColliders",(u=v("WallColliders"),h=W({type:[a],visible:!0}),y=W({type:[c]}),u((k=t((b=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),n=0;n<i;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,r(s(t),"borderColliders",k,s(t)),r(s(t),"desktopMasks",C,s(t)),o(s(t),"screenWidth",0),t}return i(t,e),t.prototype.start=function(){this.screenWidth=p.getVisibleSize().width/2,this.borderColliders[0].setPosition(-this.screenWidth-25,0),this.borderColliders[1].setPosition(this.screenWidth+25,0),this.desktopMasks[0].opacity=255,this.desktopMasks[1].opacity=255},t}(d)).prototype,"borderColliders",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(b.prototype,"desktopMasks",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/ChestUnlockPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game.config.ts","./Enums.ts","./AudioManager.ts"],(function(e){"use strict";var t,n,i,a,r,o,l,c,s,u,p,d,m,h,w,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Animation,c=e.Node,s=e.Sprite,u=e.Label,p=e.SpriteFrame,d=e.game,m=e.Component},function(e){h=e.GameConfig},function(e){w=e.GameEvents},function(e){b=e.default}],execute:function(){var y,f,C,g,v,k,A,S,z,B,F,L,P,R,I,U,_,D,M;r._RF.push({},"d2b5bg/wYdM5rMok+k2hioZ","ChestUnlockPanel",void 0);var O=o.ccclass,E=o.property;o.type,e("ChestUnlockPanel",(y=O("ChestUnlockPanel"),f=E({type:l}),C=E({type:c}),g=E({type:s}),v=E({type:u}),k=E({type:p}),A=E({type:l}),S=E({type:c}),z=E({type:Function}),y((L=t((F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(a(t),"chestAnimation",L,a(t)),i(a(t),"reward",P,a(t)),i(a(t),"rewardIcon",R,a(t)),i(a(t),"rewardCountLabel",I,a(t)),i(a(t),"rewardSpriteFrames",U,a(t)),i(a(t),"rewardAnimation",_,a(t)),i(a(t),"rewardClaimButton",D,a(t)),i(a(t),"closeButtonCallback",M,a(t)),t}n(t,e);var r=t.prototype;return r.show=function(e){this.closeButtonCallback=e,this.rewardClaimButton.active=!1,this.reward.active=!1,this.chestAnimation.play("chest-open"),b.Instance.playSound("pop-chest")},r.OnChestAnimCompleted=function(){b.Instance.playSound("open-chest"),this.reward.active=!0,this.getRandomReward(),this.scheduleOnce(this.OnRewardAnimComplete,.5)},r.OnRewardAnimComplete=function(){this.rewardClaimButton.active=!0},r.getRandomReward=function(){this.rewardIcon.spriteFrame=this.rewardSpriteFrames[0];var e=0;e=1,h.levelLifeCount+=1,d.emit(w.UpdateLives),this.rewardCountLabel.string="X "+e.toString(),this.rewardAnimation.play()},r.closeChestPanel=function(){null!=this.closeButtonCallback&&this.closeButtonCallback(),b.Instance.playSound("click"),this.reward.setScale(0,0,0),this.reward.setPosition(0,100,0),this.node.active=!1,d.emit(w.SaveData)},t}(m)).prototype,"chestAnimation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(F.prototype,"reward",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(F.prototype,"rewardIcon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(F.prototype,"rewardCountLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(F.prototype,"rewardSpriteFrames",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(F.prototype,"rewardAnimation",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(F.prototype,"rewardClaimButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(F.prototype,"closeButtonCallback",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=F))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/BlastEffect.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./MeteorSpawner.ts"],(function(t){"use strict";var e,i,r,a,l,c,s,n,o,p,f,b,u,y,h,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,c=t._decorator,s=t.Animation,n=t.Label,o=t.ParticleSystem2D,p=t.Node,f=t.UIOpacity,b=t.Vec2,u=t.tween,y=t.Vec3,h=t.Component},function(t){m=t.MeteorSpawner}],execute:function(){var S,g,C,w,z,d,x,T,P,E,v,O,M,B,L,A,_,D,R,j,k,F,G;l._RF.push({},"d8d1c3LwZ9LPL9GkG5Prj7l","BlastEffect",void 0);var I=c.ccclass,N=c.property;t("BlastEffect",(S=I("BlastEffect"),g=N({type:s}),C=N({type:n}),w=N({type:String}),z=N({type:m,visible:!1}),d=N({type:o}),x=N({type:p}),T=N({type:Number}),P=N({type:f}),E=N({type:b}),v=N({type:o}),S((B=e((M=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l))||this,r(a(e),"gratificationTextAnim",B,a(e)),r(a(e),"gratificationTexlabel",L,a(e)),r(a(e),"gratificationTexts",A,a(e)),r(a(e),"meteorSpawner",_,a(e)),r(a(e),"puffEffectparticle",D,a(e)),r(a(e),"blastCircle",R,a(e)),r(a(e),"blastCircleSclae",j,a(e)),r(a(e),"blastCircleOpacity",k,a(e)),r(a(e),"blastCircleParticleSize",F,a(e)),r(a(e),"blastCircleparticles",G,a(e)),e}i(e,t);var l=e.prototype;return l.SetReference=function(t){this.meteorSpawner=t,this.puffEffectparticle.stopSystem(),this.blastCircleparticles.stopSystem(),this.blastCircle.setScale(0,0,0),this.blastCircleOpacity.opacity=0},l.Play=function(t,e,i){var r=this,a=Math.floor(360*Math.random());this.node.setPosition(e),this.blastCircleOpacity.opacity=255,this.puffEffectparticle.resetSystem(),this.blastCircleparticles.startSize=this.blastCircleParticleSize[t].x,this.blastCircleparticles.endSize=this.blastCircleParticleSize[t].y,this.blastCircleparticles.startSpin=a,this.blastCircleparticles.endSpin=a,this.blastCircleparticles.resetSystem(),i?this.gratificationTexlabel.string="":(this.gratificationTexlabel.string=this.gratificationTexts[Math.floor(Math.random()*this.gratificationTexts.length)],this.gratificationTextAnim.play()),u(this.blastCircle).to(.3,{scale:new y(this.blastCircleSclae[t],this.blastCircleSclae[t],0)}).start(),u(this.blastCircleOpacity).to(1,{opacity:0}).start(),this.scheduleOnce((function(){r.blastCircle.setScale(0,0,0),r.blastCircleOpacity.opacity=0,r.puffEffectparticle.stopSystem(),r.blastCircleparticles.stopSystem(),r.meteorSpawner.BlastEffects.put(r.node)}),1)},e}(h)).prototype,"gratificationTextAnim",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(M.prototype,"gratificationTexlabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(M.prototype,"gratificationTexts",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(M.prototype,"meteorSpawner",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(M.prototype,"puffEffectparticle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(M.prototype,"blastCircle",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(M.prototype,"blastCircleSclae",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(M.prototype,"blastCircleOpacity",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(M.prototype,"blastCircleParticleSize",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(M.prototype,"blastCircleparticles",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game.config.ts","./GamezopSDK.ts","./Enums.ts"],(function(e){"use strict";var t,i,n,o,r,a,s,l,u,c,p,f,S,b,h;return{setters:[function(e){t=e.defineProperty,i=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,l=e._decorator,u=e.AudioClip,c=e.AudioSource,p=e.game,f=e.Component},function(e){S=e.GameConfig},function(e){b=e.GamezopSDK},function(e){h=e.GameEvents}],execute:function(){var y,g,m,d,w,x,O,z,k,I,F,M,X,E,H,C,D,v,G,P,A,B,_,T,L,R,K,N,j,q,V,Y,J,Q,U,W,Z,$,ee,te,ie,ne,oe,re,ae,se,le,ue,ce;s._RF.push({},"dc51ekBYxNBFqX4kTrVG/zt","AudioManager",void 0);var pe=l.ccclass,fe=l.property;l.type,e("default",(y=pe("AudioManager"),g=fe({type:u}),m=fe({type:u}),d=fe({type:u}),w=fe({type:u}),x=fe({type:u}),O=fe({type:u}),z=fe({type:u}),k=fe({type:u}),I=fe({type:u}),F=fe({type:u}),M=fe({type:u}),X=fe({type:u}),E=fe({type:u}),H=fe(u),C=fe({type:c}),D=fe(c),v=fe({type:c}),G=fe(c),P=fe(c),A=fe(c),B=fe({type:c}),_=fe({type:c}),y((ce=ue=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=e.call.apply(e,[this].concat(a))||this,o(r(i),"bounce",R,r(i)),o(r(i),"baloonPop",K,r(i)),o(r(i),"coin",N,r(i)),o(r(i),"powerup",j,r(i)),o(r(i),"destroyed",q,r(i)),o(r(i),"click",V,r(i)),o(r(i),"fail",Y,r(i)),o(r(i),"success",J,r(i)),o(r(i),"timerCountDown",Q,r(i)),o(r(i),"gratification",U,r(i)),o(r(i),"wrongSelection",W,r(i)),o(r(i),"popChest",Z,r(i)),o(r(i),"openChest",$,r(i)),o(r(i),"powerDown",ee,r(i)),o(r(i),"bgmSource",te,r(i)),o(r(i),"sfxSource",ie,r(i)),o(r(i),"blastSfxSource",ne,r(i)),o(r(i),"bounceSfxSource",oe,r(i)),o(r(i),"gratificationSfxSource",re,r(i)),o(r(i),"collectableSfxSource",ae,r(i)),t(r(i),"isMusicOn",!1),o(r(i),"gunfireSources",se,r(i)),t(r(i),"gunfireIndex",0),o(r(i),"metalHitSFXSources",le,r(i)),t(r(i),"metalHitSFXIndex",0),t(r(i),"isSoundEffectsOn",!1),i}n(i,e);var s=i.prototype;return s.onLoad=function(){i.instance=this,p.addPersistRootNode(this.node)},s.start=function(){this.isMusicOn=b.Instance.gameMuted=S.music,this.isSoundEffectsOn=S.soundEffects},s.musicToggle=function(){return this.isMusicOn?this.isMusicOn=S.music=b.Instance.gameMuted=!1:this.isMusicOn=S.music=b.Instance.gameMuted=!0,p.emit(h.SaveData),this.isMusicOn?1:0},s.soundToggle=function(){return this.isSoundEffectsOn?this.isSoundEffectsOn=S.soundEffects=!1:this.isSoundEffectsOn=S.soundEffects=!0,p.emit(h.SaveData),this.isSoundEffectsOn?1:0},s.playBGM=function(){this.isMusicOn&&(this.bgmSource.stop(),this.bgmSource.play())},s.stopBGM=function(){this.bgmSource.stop()},s.playMetalSFX=function(){this.isSoundEffectsOn&&(this.metalHitSFXSources[this.metalHitSFXIndex].playing?(this.metalHitSFXIndex=this.metalHitSFXIndex<this.metalHitSFXSources.length-1?this.metalHitSFXIndex+1:0,this.metalHitSFXSources[this.metalHitSFXIndex].playing||this.metalHitSFXSources[this.metalHitSFXIndex].play()):this.metalHitSFXSources[this.metalHitSFXIndex].play())},s.playBulletFireSFX=function(){this.isSoundEffectsOn&&(this.gunfireSources[this.gunfireIndex].playing?(this.gunfireIndex=this.gunfireIndex<this.gunfireSources.length-1?this.gunfireIndex+1:0,this.gunfireSources[this.gunfireIndex].play()):this.gunfireSources[this.gunfireIndex].play())},s.playSound=function(e){if(this.isSoundEffectsOn)switch(e){case"bounce":this.bounceSfxSource.playOneShot(this.bounce,1);break;case"balloon-pop":this.blastSfxSource.playOneShot(this.baloonPop,1);break;case"coin":this.collectableSfxSource.playOneShot(this.coin,1);break;case"powerup":this.collectableSfxSource.playOneShot(this.powerup,1);break;case"destroyed":this.sfxSource.playOneShot(this.destroyed,1);break;case"click":this.sfxSource.playOneShot(this.click,1);break;case"fail":this.sfxSource.playOneShot(this.fail,1);break;case"success":this.sfxSource.playOneShot(this.success,1);break;case"timer-countdown":this.sfxSource.playOneShot(this.timerCountDown,1);break;case"gratification":this.gratificationSfxSource.playOneShot(this.gratification,1);break;case"wrong-selection":this.sfxSource.playOneShot(this.wrongSelection,1);break;case"open-chest":this.sfxSource.playOneShot(this.openChest,1);break;case"pop-chest":this.sfxSource.playOneShot(this.popChest,1);break;case"power-down":this.sfxSource.playOneShot(this.powerDown,1)}},a(i,[{key:"IsMusicOn",get:function(){return this.isMusicOn}},{key:"IsSoundEffectsOn",get:function(){return this.isSoundEffectsOn}}],[{key:"Instance",get:function(){return i.instance}}]),i}(f),t(ue,"instance",null),R=i((L=ce).prototype,"bounce",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(L.prototype,"baloonPop",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(L.prototype,"coin",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(L.prototype,"powerup",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(L.prototype,"destroyed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(L.prototype,"click",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(L.prototype,"fail",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(L.prototype,"success",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(L.prototype,"timerCountDown",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(L.prototype,"gratification",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(L.prototype,"wrongSelection",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(L.prototype,"popChest",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(L.prototype,"openChest",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=i(L.prototype,"powerDown",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=i(L.prototype,"bgmSource",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=i(L.prototype,"sfxSource",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=i(L.prototype,"blastSfxSource",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=i(L.prototype,"bounceSfxSource",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=i(L.prototype,"gratificationSfxSource",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=i(L.prototype,"collectableSfxSource",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=i(L.prototype,"gunfireSources",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=i(L.prototype,"metalHitSFXSources",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=L))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game.config.ts","./Enums.ts","./ChildTurret.ts","./Player.ts"],(function(e){"use strict";var t,n,r,i,o,a,s,l,u,c,p,h,f,d,y,v,m;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,l=e._decorator,u=e.Prefab,c=e.Node,p=e.game,h=e.instantiate,f=e.Component},function(e){d=e.GameConfig},function(e){y=e.GameEvents},function(e){v=e.ChildTurret},function(e){m=e.Player}],execute:function(){var C,b,g,T,P,w,k,I,M;s._RF.push({},"e1cb2ohgvtCf4cvLyK5scHy","PowerupManager",void 0);var _=l.ccclass,z=l.property;l.type,e("PowerupManager",(C=_("PowerupManager"),b=z({type:u,visible:!0}),g=z({type:c,visible:!0}),C((M=I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(o(t),"childTurretPrefab",w,o(t)),i(o(t),"powerupContainer",k,o(t)),t}r(t,e);var n=t.prototype;return n.onLoad=function(){t.instance=this},n.onEnable=function(){p.on(y.StartGame,this.prepareTurret,this)},n.onDisable=function(){p.off(y.StartGame,this.prepareTurret,this)},n.prepareTurret=function(){var e;this.powerupContainer.children.forEach((function(e){e.destroy()}));var t=h(this.childTurretPrefab[d.selectedTankIndex]);this.childTurret=t,this.childTurretComponent=this.childTurret.getComponent(v),t.parent=this.powerupContainer,null===(e=t.getComponent(v))||void 0===e||e.setReference(this.player),t.active=!1},n.setInvisible=function(){var e;null===(e=this.playerComponent)||void 0===e||e.setInvisible(),this.scheduleOnce(this.stopInvisible,5)},n.stopInvisible=function(){var e;null===(e=this.playerComponent)||void 0===e||e.respawnPlayer()},n.spawnTurret=function(){var e;this.childTurret.active=!0,null===(e=this.childTurretComponent)||void 0===e||e.spawn()},n.killTurret=function(){var e;null===(e=this.childTurretComponent)||void 0===e||e.kill()},a(t,[{key:"ChildTurretComponent",get:function(){return this.childTurretComponent}},{key:"Player",set:function(e){this.player=e,this.playerComponent=this.player.getComponent(m)}}],[{key:"Instance",get:function(){return t.instance}}]),t}(f),t(I,"instance",null),w=n((P=M).prototype,"childTurretPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(P.prototype,"powerupContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=P))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/ShopPanel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./TankUI.ts","./game.config.ts","./Enums.ts","./AudioManager.ts","./BackgroundNotificationPanel.ts","./BackgroundUI.ts","./ShopManager.ts"],(function(n){"use strict";var t,e,a,i,o,r,s,c,l,u,h,g,p,k,d,f,b,P,I,T,m,S,y;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized,o=n.defineProperty},function(n){r=n.cclegacy,s=n._decorator,c=n.Node,l=n.Label,u=n.tween,h=n.Vec3,g=n.ScrollView,p=n.instantiate,k=n.game,d=n.Component},function(n){f=n.NumberFormatter},function(n){b=n.TankUI},function(n){P=n.GameConfig},function(n){I=n.GameEvents},function(n){T=n.default},function(n){m=n.BackgroundNotificationPanel},function(n){S=n.BackgroundUI},function(n){y=n.ShopManager}],execute:function(){var v,U,M,B,C,D,w,x,N,H,L,z,G,_,O,E,F,A,R,V,j,q,J;r._RF.push({},"e5296T+pEtNpKJ6hqZSno79","ShopPanel",void 0);var K=s.ccclass,Z=s.property;s.type,n("ShopPanel",(v=K("ShopPanel"),U=Z({type:y}),M=Z({type:m}),B=Z({type:c}),C=Z({type:c}),D=Z({type:c}),w=Z({type:c}),x=Z({type:c}),N=Z({type:c}),H=Z({type:l}),L=Z({type:c}),v((_=t((G=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r))||this,a(i(t),"shopManager",_,i(t)),a(i(t),"backgroundNotificationPanel",O,i(t)),a(i(t),"tankPanel",E,i(t)),a(i(t),"tankContainer",F,i(t)),a(i(t),"tankHighlight",A,i(t)),a(i(t),"backgroundPanel",R,i(t)),a(i(t),"backgroundContainer",V,i(t)),a(i(t),"backgroundHighlight",j,i(t)),a(i(t),"gemsLabel",q,i(t)),a(i(t),"itemsPanel",J,i(t)),o(i(t),"tankUI",[]),o(i(t),"backgroundUI",[]),t}e(t,n);var r=t.prototype;return r.show=function(n){this.itemsPanel.setPosition(0,1200,0),u(this.itemsPanel).to(.2,{position:new h(0,-37,0)}).start(),0==n?this.onTankPanelSelection():1==n&&this.onBackgroundPanelSelection()},r.hide=function(){var n=this;u(this.itemsPanel).to(.2,{position:new h(0,-1200,0)}).call((function(){n.node.active=!1})).start()},r.onTankPanelSelection=function(){var n,t=this;T.Instance.playSound("click"),this.gemsLabel.string=f(P.upgrades.GemsCollected).toString(),this.tankPanel.active=!0,null===(n=this.tankPanel.getComponent(g))||void 0===n||n.scrollToTop(),this.scheduleOnce((function(){t.tankHighlight.parent=t.tankUI[P.selectedTankIndex],t.tankHighlight.setPosition(0,0)}),0),this.backgroundPanel.active=!1},r.onBackgroundPanelSelection=function(){var n,t=this;T.Instance.playSound("click"),this.gemsLabel.string=f(P.upgrades.GemsCollected).toString(),this.backgroundPanel.active=!0,null===(n=this.backgroundPanel.getComponent(g))||void 0===n||n.scrollToTop(),this.scheduleOnce((function(){t.backgroundHighlight.parent=t.backgroundUI[P.selectedBackgroundIndex],t.backgroundHighlight.setPosition(0,0)}),0),this.tankPanel.active=!1,this.updateBackgroundUI()},r.start=function(){this.setTankUI(),this.setBackgroundUI(),this.updateBackgroundUI()},r.setTankUI=function(){for(var n=0;n<this.shopManager.TankData.length;n++){var t=p(this.shopManager.TankUIPrefab);t.on("click",this.selectTank,this);var e=t.getComponent(b),a=this.shopManager.TankUnlockedStatus[n];null==e||e.updateStatus(a,a?this.shopManager.TankData[n].TankUnLockedSprites:this.shopManager.TankData[n].TankLockedSprites,this.shopManager.TankData[n].Tankprice,n),t.parent=this.tankContainer,this.tankUI.push(t)}},r.selectTank=function(n){T.Instance.playSound("click");var t=n.node.getComponent(b);t&&(this.checkTankStatus(t)&&(this.tankHighlight.parent=this.tankUI[P.selectedTankIndex],this.tankHighlight.setPosition(0,0)))},r.checkTankStatus=function(n){return!!n&&(n.IsUnlocked?(P.selectedTankIndex=n.Index,!0):(this.showPurchaseNotification(n),!1))},r.showPurchaseNotification=function(n){this.shopManager.PurchaseNotification.node.active=!0,this.shopManager.PurchaseNotification.updateProperties(this.shopManager.TankData[n.Index].TankLockedSprites,this.shopManager.TankData[n.Index].Tankprice,n.Index)},r.unlockTank=function(){T.Instance.playSound("success"),this.shopManager.PurchaseNotification.node.active=!1;var n=this.shopManager.PurchaseNotification.SelectedTankIndex;this.shopManager.TankUnlockedStatus[n]=!0;var t=this.tankUI[n].getComponent(b),e=this.shopManager.TankUnlockedStatus[n];t&&t.updateStatus(e,this.shopManager.TankData[n].TankUnLockedSprites,this.shopManager.TankData[n].Tankprice,n),P.upgrades.GemsCollected-=this.shopManager.TankData[n].Tankprice,P.selectedTankIndex=n,this.tankHighlight.parent=this.tankUI[P.selectedTankIndex],this.tankHighlight.setPosition(0,0);var a=P.upgrades.GemsCollected;this.gemsLabel.string=f(a).toString(),k.emit(I.UpdateGems),k.emit(I.SaveData)},r.setBackgroundUI=function(){for(var n=0;n<this.shopManager.BackgroundData.length;n++){var t=p(this.shopManager.BackgroundUIPrefab);t.on("click",this.selectBackground,this),t.parent=this.backgroundContainer,this.backgroundUI.push(t)}},r.updateBackgroundUI=function(){for(var n=0;n<this.backgroundUI.length;n++){var t=this.backgroundUI[n].getComponent(S),e=this.shopManager.BackgroundUnlockedStatus[n],a=this.shopManager.BackgroundOpenedStatus[n],i=this.shopManager.BackgroundData[n].Price,o=this.shopManager.BackgroundData[n].CurrencyType;null==t||t.updateStatus(e,a,e?this.shopManager.BackgroundData[n].BackgroundUnLockedSprites:this.shopManager.BackgroundLockedSprite,n,i,o)}},r.selectBackground=function(n){T.Instance.playSound("click");var t=n.node.getComponent(S);t&&(this.checkBackgroundStatus(t)&&(this.backgroundHighlight.parent=this.backgroundUI[P.selectedBackgroundIndex],this.backgroundHighlight.setPosition(0,0)))},r.checkBackgroundStatus=function(n){if(n){if(n.isUnlocked)return P.selectedBackgroundIndex=n.index,n.alertNotification.active=!1,this.shopManager.BackgroundOpenedStatus[n.index]=!0,k.emit(I.SaveData),!0;var t=this.shopManager.BackgroundData[n.index];return this.backgroundNotificationPanel.node.active=!0,this.backgroundNotificationPanel.updateProperties(t.Price,t.CurrencyType,t.Message),!1}return!1},r.onClosePanel=function(){T.Instance.playSound("click")},t}(d)).prototype,"shopManager",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(G.prototype,"backgroundNotificationPanel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(G.prototype,"tankPanel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(G.prototype,"tankContainer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(G.prototype,"tankHighlight",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(G.prototype,"backgroundPanel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(G.prototype,"backgroundContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(G.prototype,"backgroundHighlight",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(G.prototype,"gemsLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(G.prototype,"itemsPanel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=G))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/ChildTurret.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./Enums.ts"],(function(i){"use strict";var t,e,n,o,s,r,a,c,l,u,p,h,f,y,d,v;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.defineProperty,r=i.createClass},function(i){a=i.cclegacy,c=i._decorator,l=i.Animation,u=i.UIOpacity,p=i.tween,h=i.Vec3,f=i.game,y=i.Component},function(i){d=i.Lerp},function(i){v=i.GameEvents}],execute:function(){var b,m,w,g,I,T,A;a._RF.push({},"e6167RerxNGeLhzrfgbe08t","ChildTurret",void 0);var C=c.ccclass,D=c.property;c.type,i("ChildTurret",(b=C("ChildTurret"),m=D({type:l}),w=D({type:u}),b((T=t((I=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=i.call.apply(i,[this].concat(r))||this,n(o(t),"animation",T,o(t)),n(o(t),"tankBodyOpacity",A,o(t)),s(o(t),"bufferDistance",25),s(o(t),"smoothDelay",2),s(o(t),"isAlive",!0),s(o(t),"isInvincible",!1),t}e(t,i);var a=t.prototype;return a.setReference=function(i){var t=this;this.cannonNode=i,this.respawnTween=p(this.tankBodyOpacity).repeat(7,p().to(.3,{opacity:100}).to(.3,{opacity:255})).call((function(){t.isInvincible=!1}))},a.spawn=function(){this.isAlive=!0,this.isInvincible=!0,this.respawnTween.start()},a.update=function(i){this.isAlive&&this.setChildTurretPosition(d(this.node.position.x,this.cannonNode.position.x+(this.cannonNode.position.x>0?-this.bufferDistance:+this.bufferDistance),this.smoothDelay*i))},a.setChildTurretPosition=function(i){this.node.setPosition(new h(i,this.node.position.y,0))},a.kill=function(){this.isAlive&&!this.isInvincible&&(this.isAlive=!1,this.node.active=!1,f.emit(v.ResetPowerup))},r(t,[{key:"Animation",get:function(){return this.animation}},{key:"IsInvincible",get:function(){return this.isInvincible}}]),t}(y)).prototype,"animation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(I.prototype,"tankBodyOpacity",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=I))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./game.config.ts","./GamezopSDK.ts","./Enums.ts","./AudioManager.ts","./Bullet.ts","./Coin.ts","./PowerupIcon.ts","./Tank.ts","./GameManager.ts","./PowerupManager.ts"],(function(i){"use strict";var t,e,n,o,s,a,r,l,h,c,d,u,p,y,f,v,m,g,b,P,T,I,w,C,k,S,A,M,O,F,x,B,D,K,E,G,L,U,z;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.defineProperty,a=i.createClass},function(i){r=i.cclegacy,l=i._decorator,h=i.Prefab,c=i.Animation,d=i.UIOpacity,u=i.Node,p=i.NodePool,y=i.Vec2,f=i.systemEvent,v=i.SystemEventType,m=i.game,g=i.Collider2D,b=i.Contact2DType,P=i.view,T=i.tween,I=i.Vec3,w=i.macro,C=i.instantiate,k=i.clamp,S=i.lerp,A=i.Component},function(i){M=i.Interpolate},function(i){O=i.GameConfig},function(i){F=i.GamezopSDK},function(i){x=i.GameEvents,B=i.PhysicsTag},function(i){D=i.default},function(i){K=i.Bullet},function(i){E=i.Coin},function(i){G=i.PowerupIcon},function(i){L=i.Tank},function(i){U=i.GameManager},function(i){z=i.PowerupManager}],execute:function(){var _,R,W,N,V,H,Y,X,j,q,J,Q,Z,$,ii;r._RF.push({},"f6d89v3n5dGlIijq33NxcV5","Player",void 0);var ti=l.ccclass,ei=l.property;l.integer,l.type,i("Player",(_=ti("Player"),R=ei({type:h}),W=ei({type:c,visible:!1}),N=ei({type:d,visible:!1}),V=ei({type:h}),H=ei({type:u}),Y=ei({type:Number}),_((q=t((j=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,n(o(t),"tanksPrefabs",q,o(t)),n(o(t),"bodyAnimation",J,o(t)),n(o(t),"tankBodyOpacity",Q,o(t)),s(o(t),"bulletPool",new p),n(o(t),"bulletPrefab",Z,o(t)),n(o(t),"bulletsContainer",$,o(t)),n(o(t),"bulletsCount",ii,o(t)),s(o(t),"acctiveBullets",[]),s(o(t),"touchPosition",new y(0,0)),s(o(t),"screenWidth",0),s(o(t),"isMoving",!1),s(o(t),"isAnimating",!0),s(o(t),"isPlayerAlive",!1),s(o(t),"isInvincible",!1),s(o(t),"isLevelMode",!1),s(o(t),"firingTime",.1),s(o(t),"rateOfFire",.1),s(o(t),"remainingShots",0),s(o(t),"childFiringTime",.1),s(o(t),"childRateOfFire",.1),s(o(t),"childRemainingShots",0),s(o(t),"childFirePerSeconds",0),s(o(t),"firePerSeconds",0),s(o(t),"tankIndex",0),s(o(t),"isKeyDown",!1),s(o(t),"direction",0),t}e(t,i);var r=t.prototype;return r.onEnable=function(){f.on(v.TOUCH_START,this.onTouchStart,this),f.on(v.TOUCH_MOVE,this.onTouchMove,this),f.on(v.TOUCH_END,this.onTouchEnd,this),F.Instance.isKia()&&(f.on(v.KEY_DOWN,this.onKeyDown,this),f.on(v.KEY_UP,this.onKeyUp,this)),m.on(x.StartGame,this.onStartGame,this),m.on(x.UpdateTank,this.onUpdateTank,this),m.on(x.Respawn,this.respawnPlayer,this),m.on(x.GameOver,this.onGameOver,this)},r.onDisable=function(){f.removeAll(this),m.removeAll(this)},r.onLoad=function(){var i=this.node.getComponent(g);i&&i.on(b.BEGIN_CONTACT,this.onPlayerBeginContact,this)},r.start=function(){this.isLevelMode=U.Instance.IsLevelMode,this.screenWidth=P.getVisibleSize().width/2,this.introTween=T(this.node).repeatForever(T().to(1.2,{position:new I(-50,this.node.position.y,0)},{easing:"easeInOut"}).to(1.2,{position:new I(50,this.node.position.y,0)},{easing:"easeInOut"})),this.introTween.start(),this.setupTank(),this.prepareBullets()},r.onUpdateTank=function(){var i;this.tankIndex=O.selectedTankIndex,(null===(i=this.tank.getComponent(L))||void 0===i?void 0:i.TankID)!=this.tankIndex&&this.setupTank()},r.onKeyDown=function(i){switch(i.keyCode){case w.KEY.left:this.isMoving=!0,this.isKeyDown=!0,this.direction=-this.screenWidth;break;case w.KEY.right:this.isMoving=!0,this.isKeyDown=!0,this.direction=this.screenWidth}},r.onKeyUp=function(i){var t;!this.isAnimating&&this.isPlayerAlive&&(this.direction=0,this.isKeyDown=!1,this.isMoving=!1,this.bodyAnimation.play("bodyIdle"),this.firingTime=.1,this.isLevelMode&&(null===(t=this.childTurretComponent)||void 0===t?void 0:t.node.active)&&(this.childFiringTime=.1,this.childTurretComponent.Animation.play("bodyIdle")));F.Instance.onKeyInput()},r.onTouchStart=function(i){F.Instance.onTouchInput(),this.isPlayerAlive&&(this.isMoving=!0,this.touchPosition=new y(i.getUILocation().x-this.screenWidth,0))},r.onTouchMove=function(i){this.isPlayerAlive&&(this.touchPosition=new y(i.getUILocation().x-this.screenWidth,0))},r.onTouchEnd=function(i){var t;!this.isAnimating&&this.isPlayerAlive&&(this.direction=0,this.isKeyDown=!1,this.isMoving=!1,this.bodyAnimation.play("bodyIdle"),this.firingTime=.1,this.isLevelMode&&(null===(t=this.childTurretComponent)||void 0===t?void 0:t.node.active)&&(this.childFiringTime=.1,this.childTurretComponent.Animation.play("bodyIdle")))},r.setupTank=function(){null!=this.tank&&this.tank.destroy(),this.tankIndex=this.isLevelMode?O.selectedTankIndex:Math.floor(Math.random()*this.tanksPrefabs.length),this.tank=C(this.tanksPrefabs[this.tankIndex]),this.tank.parent=this.node;var i=this.tank.getComponent(L);i&&(this.bodyAnimation=i.TankAnimation,this.tankBodyOpacity=i.TankBodyOpacity)},r.onStartGame=function(){var i=this;this.bodyAnimation.play("bodyIdle"),this.isAnimating=!1,this.isPlayerAlive=!0,this.introTween.stop(),T(this.node).to(.25,{position:new I(0,-296,0)},{easing:"easeOut"}).start(),this.respawnTween=T(this.tankBodyOpacity).repeat(7,T().to(.3,{opacity:100}).to(.3,{opacity:255})).call((function(){i.isInvincible=!1})),z.Instance.Player=this.node,this.isLevelMode&&!F.Instance.isTournament()?(this.scheduleOnce((function(){i.childTurretComponent=z.Instance.ChildTurretComponent}),0),this.firePerSeconds=.75*O.upgrades.FireSpeed,this.childFirePerSeconds=O.upgrades.FireSpeed<10?O.upgrades.FireSpeed:10):this.firePerSeconds=U.Instance.BattleBulletFireSpeed()},r.onPlayerBeginContact=function(i,t,e){if(this.isPlayerAlive){if(t.tag==B.Coin){var n=t.getComponent(E);n&&(n.hide((function(){O.upgrades.CoinsCollected+=n.getScore(),m.emit(x.UpdateCoins)})),D.Instance.playSound("coin"))}if(t.tag==B.PowerupIcon){var o=t.getComponent(G);o&&(0==o.PowerupIndex?z.Instance.spawnTurret():1==o.PowerupIndex&&z.Instance.setInvisible(),D.Instance.playSound("powerup"),o.hide())}(t.tag==B.Meteor&&!this.isInvincible||t.tag==B.Boss&&!this.isInvincible||t.tag==B.PowerupMeteor&&!this.isInvincible)&&(D.Instance.playSound("destroyed"),"vibrate"in navigator&&O.vibration&&navigator.vibrate(150),this.isPlayerAlive=!1,this.isMoving=!1,this.bodyAnimation.play("respawn"),this.isLevelMode?m.emit(x.ExtraLife):m.emit(x.GameOver))}},r.respawnPlayer=function(){this.respawnTween.start(),this.isInvincible=!0,this.isPlayerAlive=!0,this.bodyAnimation.play("bodyIdle")},r.prepareBullets=function(){this.bulletPool=new p;for(var i=0;i<this.bulletsCount;i++){var t,e=C(this.bulletPrefab);null===(t=e.getComponent(K))||void 0===t||t.setReference(this),this.bulletPool.put(e)}},r.spawnbullet=function(){var i,t=null;return this.bulletPool.size()>0?i=this.bulletPool.get():(t=(i=C(this.bulletPrefab)).getComponent(K))&&t.setReference(this),i&&(i.parent=this.bulletsContainer,i.active=!0,t=i.getComponent(K)),t},r.setInvisible=function(){this.tankBodyOpacity.opacity=100,this.isInvincible=!0},r.setTankPositionX=function(i){this.node.setPosition(new I(k(i,-this.screenWidth,this.screenWidth),this.node.position.y,0))},r.handleChildShooting=function(i){var t;if((null===(t=this.childTurretComponent)||void 0===t?void 0:t.node.active)&&(this.childFiringTime-=i,this.childFiringTime<=0)){1/this.childFirePerSeconds>this.childRateOfFire?this.childFiringTime=1/this.childFirePerSeconds:this.childFiringTime=this.childRateOfFire;var e=this.spawnbullet();this.childTurretComponent.Animation.play("body");var n=this.childTurretComponent.node.position.clone();null==e||e.reset(n,n,20)}},r.handleShooting=function(i){if(this.firingTime-=i,this.firingTime<=0){1/this.firePerSeconds>this.rateOfFire?this.firingTime=1/this.firePerSeconds:this.firingTime=this.rateOfFire,D.Instance.playBulletFireSFX(),this.bodyAnimation.play("body");var t=this.firePerSeconds*this.firingTime+this.remainingShots,e=Math.floor(t);this.remainingShots=t-e;for(var n=20*e/2,o=0;o<e;o++){var s=this.spawnbullet(),a=this.node.position.clone(),r=this.node.position.clone();r.x=M(20*o+10,0,20*e,r.x-n,r.x+n),null==s||s.reset(a,r,50)}}},r.onGameOver=function(){this.isPlayerAlive=!1,this.isMoving=!1},r.update=function(i){this.isMoving&&this.isPlayerAlive&&(this.handleShooting(i),this.isLevelMode&&this.handleChildShooting(i),this.setTankPositionX(this.isKeyDown?this.node.position.x+this.direction*i:S(this.node.position.x,this.touchPosition.x,7*i)))},a(t,[{key:"BulletPool",get:function(){return this.bulletPool}}]),t}(A)).prototype,"tanksPrefabs",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(j.prototype,"bodyAnimation",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(j.prototype,"tankBodyOpacity",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(j.prototype,"bulletPrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(j.prototype,"bulletsContainer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ii=t(j.prototype,"bulletsCount",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),X=j))||X));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game.config.ts","./Enums.ts","./PurchaseNotification.ts"],(function(e){"use strict";var t,n,a,r,i,o,u,c,s,l,k,d,p,b,g,h,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.createClass,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.defineProperty},function(e){u=e.cclegacy,c=e._decorator,s=e.SpriteFrame,l=e.Enum,k=e.Prefab,d=e.Node,p=e.game,b=e.Component},function(e){g=e.GameConfig},function(e){h=e.BackgroundUnlockCurrency,f=e.GameEvents},function(e){y=e.PurchaseNotification}],execute:function(){var S,U,m,D,P,v,z,w,T,B,L,C,N,I,O,_,F,M,E,G,K,R,j,x,A,H,J,Q,W,X,q,V,Y,Z,$,ee,te,ne,ae,re,ie,oe,ue;u._RF.push({},"f8bdezC5Q1PlITck8dJ+rWX","ShopManager",void 0);var ce=c.ccclass,se=c.property,le=(c.type,S=ce("TankData"),U=se({type:s,visible:!0}),m=se({type:s,visible:!0}),D=se({type:Number,visible:!0}),S((z=t((v=function(){function e(){r(this,"tankLockedSprites",z,this),r(this,"tankUnLockedSprites",w,this),r(this,"tankprice",T,this)}return n(e,[{key:"TankLockedSprites",get:function(){return this.tankLockedSprites}},{key:"TankUnLockedSprites",get:function(){return this.tankUnLockedSprites}},{key:"Tankprice",get:function(){return this.tankprice}}]),e}()).prototype,"tankLockedSprites",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(v.prototype,"tankUnLockedSprites",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(v.prototype,"tankprice",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=v))||P),ke=(B=ce("BackgroundData"),L=se({type:s,visible:!0}),C=se({type:l(h),visible:!0}),N=se({type:Number,visible:!0}),I=se({type:String,visible:!0}),B((F=t((_=function(){function e(){r(this,"backgroundUnLockedSprites",F,this),r(this,"currencyType",M,this),r(this,"price",E,this),r(this,"message",G,this)}return n(e,[{key:"BackgroundUnLockedSprites",get:function(){return this.backgroundUnLockedSprites}},{key:"CurrencyType",get:function(){return this.currencyType}},{key:"Price",get:function(){return this.price}},{key:"Message",get:function(){return this.message}}]),e}()).prototype,"backgroundUnLockedSprites",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(_.prototype,"currencyType",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(_.prototype,"price",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(_.prototype,"message",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=_))||O);e("ShopManager",(K=ce("ShopManager"),R=se({type:k}),j=se({type:k}),x=se({type:[le]}),A=se({type:Boolean,visible:!0}),H=se({type:y,visible:!0}),J=se({type:s}),Q=se({type:ke}),W=se({type:Boolean}),X=se({type:Boolean}),q=se({type:d}),K((Z=t((Y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return t=e.call.apply(e,[this].concat(a))||this,r(i(t),"tankUIPrefab",Z,i(t)),r(i(t),"backgroundUIPrefab",$,i(t)),r(i(t),"tankData",ee,i(t)),r(i(t),"tankUnlockedStatus",te,i(t)),r(i(t),"purchaseNotification",ne,i(t)),r(i(t),"backgroundLockedSprite",ae,i(t)),r(i(t),"backgroundData",re,i(t)),r(i(t),"backgroundUnlockedStatus",ie,i(t)),r(i(t),"backgroundOpenedStatus",oe,i(t)),o(i(t),"shopTankStorageKey","_gzp-hp-bb-tanks-1"),o(i(t),"shopBackgroundUnlockedStorageKey","_gzp-hp-bb-bgs-unlocked-1"),o(i(t),"shopBackgroundOpenedStorageKey","_gzp-hp-bb-bgs-opened-1"),r(i(t),"backgroundUnlockNotification",ue,i(t)),t}a(t,e);var u=t.prototype;return u.onEnable=function(){p.on(f.SaveData,this.saveData,this)},u.onDisable=function(){p.off(f.SaveData,this.saveData,this)},u.start=function(){this.loadData()},u.saveData=function(){this.checkBackgroundUpdate(),g.tankUnlockedStatus=this.tankUnlockedStatus,g.backgroundUnlockedStatus=this.backgroundUnlockedStatus,g.backgroundOpenendStatus=this.backgroundOpenedStatus},u.loadData=function(){this.tankUnlockedStatus=g.tankUnlockedStatus,this.backgroundUnlockedStatus=g.backgroundUnlockedStatus,this.backgroundOpenedStatus=g.backgroundOpenendStatus},u.checkBackgroundUpdate=function(){for(var e=1;e<this.backgroundUnlockedStatus.length;e++)this.backgroundData[e].CurrencyType==h.Games?this.backgroundData[e].Price<=g.noOfSessionsPlayed&&(this.backgroundUnlockedStatus[e]||(this.backgroundUnlockedStatus[e]=!0)):this.backgroundData[e].CurrencyType==h.Boulders?this.backgroundData[e].Price<=g.noOfBouldersDestroyed&&(this.backgroundUnlockedStatus[e]||(this.backgroundUnlockedStatus[e]=!0)):this.backgroundData[e].CurrencyType==h.FireRate?this.backgroundData[e].Price<=g.upgrades.FireSpeed&&(this.backgroundUnlockedStatus[e]||(this.backgroundUnlockedStatus[e]=!0)):this.backgroundData[e].CurrencyType==h.FirePower?this.backgroundData[e].Price<=100*g.upgrades.FirePower&&(this.backgroundUnlockedStatus[e]||(this.backgroundUnlockedStatus[e]=!0)):this.backgroundData[e].CurrencyType==h.CoinPower&&this.backgroundData[e].Price<=100*g.upgrades.CoinsPower&&(this.backgroundUnlockedStatus[e]||(this.backgroundUnlockedStatus[e]=!0))},n(t,[{key:"TankUIPrefab",get:function(){return this.tankUIPrefab}},{key:"BackgroundUIPrefab",get:function(){return this.backgroundUIPrefab}},{key:"TankData",get:function(){return this.tankData}},{key:"TankUnlockedStatus",get:function(){return this.tankUnlockedStatus}},{key:"PurchaseNotification",get:function(){return this.purchaseNotification}},{key:"BackgroundLockedSprite",get:function(){return this.backgroundLockedSprite}},{key:"BackgroundData",get:function(){return this.backgroundData}},{key:"BackgroundUnlockedStatus",get:function(){return this.backgroundUnlockedStatus}},{key:"BackgroundOpenedStatus",get:function(){return this.tankUnlockedStatus}}]),t}(b)).prototype,"tankUIPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(Y.prototype,"backgroundUIPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(Y.prototype,"tankData",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(Y.prototype,"tankUnlockedStatus",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=t(Y.prototype,"purchaseNotification",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(Y.prototype,"backgroundLockedSprite",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(Y.prototype,"backgroundData",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=t(Y.prototype,"backgroundUnlockedStatus",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=t(Y.prototype,"backgroundOpenedStatus",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=t(Y.prototype,"backgroundUnlockNotification",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Y))||V));u._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Utils.ts","./TankUI.ts","./game.config.ts","./GamezopSDK.ts","./Enums.ts","./AudioManager.ts","./Upgrades.ts","./BossDefeatedUI.ts","./SmokeEffect.ts","./BossIntroUI.ts","./BackgroundNotificationPanel.ts","./ChestUnlockPanel.ts","./DailyReward.ts","./SettingsPanel.ts","./GamezopSceneLoader.ts","./HeatC.ts","./ChildTurret.ts","./Meteor.ts","./Boss.ts","./PowerupMeteor.ts","./Bullet.ts","./PurchaseNotification.ts","./Wheel.ts","./Coin.ts","./PowerupIcon.ts","./BlastEffect.ts","./CameraShake.ts","./BackgroundUI.ts","./ShopManager.ts","./ShopPanel.ts","./Tank.ts","./GameManager.ts","./Player.ts","./PowerupManager.ts","./UIManager.ts","./BossManager.ts","./MeteorSpawner.ts","./game.config.type.ts","./WallColliders.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});